!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base"),require("angular-resource"),require("jquery"),require("moment"),require("angular-translate"),require("angular-dynamic-locale")):"function"==typeof define&&define.amd?define(["base","angular-resource","jquery","moment","angular-translate","angular-dynamic-locale"],t):"object"==typeof exports?exports.core=t(require("base"),require("angular-resource"),require("jquery"),require("moment"),require("angular-translate"),require("angular-dynamic-locale")):e.core=t(e.base,e["angular-resource"],e.jquery,e.moment,e["angular-translate"],e["angular-dynamic-locale"])}(this,function(e,t,n,r,o,i){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";t.name="core";var r=n(2),o=n(3),i=n(6),a=n(7),c=n(8),s=n(11),u=n(28),l=n(20),p=n(38),f=n(39),d=n(40),v=n(15),g=n(43),m=n(45),h=n(52);t.exports=r.createModule(t.name,[d.name,l.name,v.name,u.name,o.name,i.name,s.name,c.name,p.name,f.name,a.name,g.name,m.name,h.name])}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(t,n){t.exports=e},function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";t.name="bus";var r=n(2),o=[];t.exports=r.createModule(t.name,o).provider(n(4))}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))},function(e,t,n){var r;r=function(require,e,t){"use strict";var r=n(5);e.lpCoreBus=function(){this.setChannel=function(e){},this.$get=function(){var e={},t=r.create();return window.gadgets&&window.gadgets.pubsub?window.gadgets.pubsub:(e.subscribe=function(e,n){t.on(e,n)},e.publish=function(e){t.emit.apply(t,arguments)},e.unsubscribe=function(e,n){t.off(e,n)},e.EventEmitter=r,e)}}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";function n(e,t){for(var n,r=e.length;r--;)if(n=e[r][0],n===t||n.listener&&n.listener===t)return r;return-1}function r(e){return"undefined"!=typeof e}function o(e){for(var t=this.listeners(e).slice(),n=1===arguments.length,o=Array.prototype.slice,i=0,a=t.length;a>i;i++)n?r(t[i][1])?t[i][0].call(t[i][1]):t[i][0]():t[i][0].apply(t[i][1],o.call(arguments,1));return this}function i(){}i.prototype={on:function(e,t,r){var o=this.listeners(e);return n(o,t)<0&&o.push([t,r]),this},off:function(e,t){if(!arguments.length)return this.events=null,this;if(1===arguments.length)return this.events.hasOwnProperty(e)&&(this.events[e]=null),this;var r=this.listeners(e),o=n(r,t);return o>=0&&r.splice(o,1),this},emit:o,trigger:o,once:function(e,t,n){function r(){t.apply(this,arguments),o.off(e,r)}var o=this;return r.listener=t,this.on(e,r,n),this},listeners:function(e){var t=this.events||(this.events={});return t[e]||(t[e]=[])}},i.create=function(){return new i},i.mixin=function(e){for(var t=["on","off","emit","trigger","once","listeners"],n=t.length;n--;)e[t[n]]=i.prototype[t[n]]},t.exports=i}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";function r(e,t,n){function r(e){var t=e.promise,n=e.key;return i=o.get(n),i||(i=t.call(),o.put(n,i)),i}return o=o||e("lp"),r}t.name="core.cache";var o,i,a=n(2),c=[];r.$inject=["$cacheFactory","$q","lpCoreUtils"],t.exports=a.createModule(t.name,c).factory("lpCoreCachePromise",r)}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))},function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";function r(e,t){var n,r=e;this.useWidgetInstance=function(e){n=e,t.useWidgetInstance(e)},this.$get=function(){var e=function(e){this.widget=e,this.attributes={},this.defineAttribute("locale",{"default":"en"})};return e.prototype.getLocale=function(){return this.get("locale")},e.prototype.defineAttribute=function(e,t){this.attributes[e]=t},e.prototype.get=function(e){var t;return this.widget&&(t=this.widget.getPreference(e)||this.widget.getPreferenceFromParents(e)),t="undefined"!=typeof t?t:this.getDefault(e),r.isString(t)&&(t=r.resolvePortalPlaceholders(t)),t},e.prototype.getDefault=function(e){return this.attributes[e]&&this.attributes[e]["default"]?this.attributes[e]["default"]:null},e.prototype.getAbsPath=function(){return this.widget&&r.getWidgetBaseUrl(this.widget)||"/"},new e(n)}}t.name="core.configuration";var o=n(2),i=[];r.$inject=["lpCoreUtils","lpCoreI18nProvider"],t.exports=o.createModule(t.name,i).provider("lpCoreConfiguration",r)}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))},function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";t.name="error";var r=n(2),o=[];t.exports=r.createModule(t.name,o).config(n(9)).factory(n(10))}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))},function(e,t,n){var r;r=function(require,e,t){"use strict";t.exports=function(e){e.decorator("$exceptionHandler",["$delegate","$injector",function(e,t){return function(t,n){e(t,n)}}])},t.exports.$inject=["$provide"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";var r,o=n(2).utils,i={};e.lpCoreError=function(e,t){return i.createException=function(e){function t(t){this.name=e||"Error",this.message=t||"Unknown Message"}return t.prototype=new Error,t.prototype.constructor=t,t},i.captureException=function(t,n){return e(t,n)},i.throwException=function(e){throw e instanceof Error||(e=new Error(e)),e},i.throwExceptionAsync=function(e,t,n){e instanceof Error||(e=new Error(e)),o.defer(function(){throw e},t||100,n)},i.assert=function(e,t){r=r||i.createException("AssertionError"),e||i.throwException(new r(t||"Assertion fails!"))},i},e.lpCoreError.$inject=["$exceptionHandler","$q"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";t.name="http";var r=n(2);n(12);var o=["ngResource"];t.exports=r.createModule(t.name,o).config(n(13)).factory(n(27))}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))},function(e,n){e.exports=t},function(e,t,n){var r;r=function(require,e,t){"use strict";var r=n(2),o=n(14),i=n(15),a=r.ng.injector([i.name]),c=a.get("lpCoreUtils"),s=c.getCookie("XSRF-TOKEN");""!==s&&o.ajaxSetup({global:!0,headers:{"X-XSRF-TOKEN":s}}),t.exports=function(e){e.interceptors.push("lpCoreHttpInterceptor");var t={Accept:"application/json","Content-Type":"application/json","X-XSRF-TOKEN":s};e.defaults.headers.common=t,e.defaults.headers.post=t,e.defaults.headers.put=t},t.exports.$inject=["$httpProvider"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports=n},function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";t.name="core.utils";var r=n(2),o=r.utils,i=n(16),a=n(17),c=n(19),s=n(22),u=n(23),l=n(24),p=n(25),f=n(26);o.mixin(i),o.mixin(a),o.mixin(c),o.mixin(s),o.mixin(u),o.mixin(l),o.mixin(p),o.mixin(f),t.exports=r.createModule(t.name,[]).constant({lpCoreUtils:o})}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))},function(e,t,n){var r;r=function(require,e,t){"use strict";var r=n(2).utils;e.parseQuerystring=function(e){return r.isString(e)?(e=r.trim(e),e?r.reduce(e.split("&"),function(e,t){var n=t.split("="),o=decodeURIComponent(n[0]),i=n[1];return i=r.isUndefined(i)?null:decodeURIComponent(i),e.hasOwnProperty(o)?(r.isArray(e[o])||(e[o]=[e[o]]),e[o].push(i)):e[o]=i,e},{}):{}):{}},e.buildQueryString=function(e){return r.isObject(e)?r.map(r.keys(e),function(t){var n=e[t];return r.isArray(n)?r.map(n,function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(n)}).join("&"):""}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";var r=n(2).utils,o=function(e){return r.pad(e,2,"0")};e.date=n(18),e.dateToISOString=function(e){return Date.prototype.toISOString?Date.prototype.toISOString.call(e):e.getUTCFullYear()+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},e.dateFormat=function(e,t){}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports=r},function(e,t,n){var r;r=function(require,e,t){"use strict";var r=n(2),o=r.inject("lpPortal",n(20).name),i=r.utils;e.resolvePortalPlaceholders=function(e){var t=o.root||"";if(i.isString(e)){var n=i(["$(contextRoot)","$(contextPath)","$(servicesPath)"]);e=n.reduce(function(e,n){return e.replace(n,t)},e)}return e},e.getWidgetBaseUrl=function(t){if(!i.isEmpty(t)){var n=t.getPreference("src");return n&&e.resolvePortalPlaceholders(n.replace(/\/[^\/]*$/,""))}},e.getPortalProperty=function(e){switch(e){case"serverRoot":return o.root;case"portalName":return o.name;case"pageName":return o.page.name;case"defaultLandingPage":return o.defaultLandingPage;case"locale":return o.locale;case"hideAccount":return o.hideAccount;case"maskAccount":return o.maskAccount;default:return o._portalConfig[e]}},e.getPagePreference=function(e){return o.page.getPreference(e)},e.getPortalPage=function(){return o.page},e.generateUUID=function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:7&n|8).toString(16)});return t}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";function r(){}t.name="core.portal";var o=n(2),i=[];t.exports=o.createModule(t.name,i).constant(n(21)).run(r)}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))},function(e,t,n){var r;r=function(require,e,t){"use strict";var r=n(2).utils,o=window.b$||{},i=r.assign({portalView:{getElementsByTagName:function(){return[]}},config:{serverRoot:"./"},pageName:"",pageUUID:"",loggedInUserId:""},o.portal),a=r.assign({designMode:!1},window.bd),c={name:i.pageName,id:i.pageUUID},s=i.portalView.getElementsByTagName("page")[0];c.getPreference=function(e){return s?s.getPreference(e):void 0},e.lpPortal={root:i.config.serverRoot,name:i.portalName,page:c,defaultLandingPage:i.config.defaultLandingPage,linkId:i.linkUUID,userId:i.loggedInUserId,designMode:"true"===a.designMode,locale:i.config.locale,hideAccount:i.config.hideAccount,maskAccount:i.config.maskAccount,_portalConfig:i.config}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";e.isValidEmail=function(e){var t=/^\w+([\.\-]?\w+)*@\w+([\.\-]?\w+)*(\.\w+)+$/;return t.test(e)},e.isValidUUID=function(e){var t=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return t.test(e)},e.isValidISO7064Checksum=function(e){var t=function(e){for(var t=e.split(""),n=0;n<t.length;n++)/[A-Z]/.test(t[n])&&(t[n]=t[n].charCodeAt(0)-55);return t.join("")},n=function(e){var t=parseInt(e,10)%97;return t=t.toString(),1===t.length?"0"+t:t};if(e){for(e=e.substr(4)+e.substr(0,4),e=t(e);e.length>2&&!isNaN(e);)e=n(e.substr(0,9))+e.substr(9);if(1===parseInt(e,10))return!0}return!1}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";e.parseBoolean=function(e){return"boolean"==typeof e&&e||"string"==typeof e&&/\s*true\s*/i.test(e)||"number"==typeof e&&0!==e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";var r=n(2).utils;e.stripHtml=function(e){return r.isString(e)?e.replace(/<\/?[^>]+>/g,""):(console.log(e+" is not a String"),"")}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";e.getCookie=function(e){var t="; "+document.cookie,n="";return"string"==typeof e&&(n=t.split("; "+e+"="),2===n.length)?n.pop().split(";").shift():void 0}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";e.safeApply=function(e,t){var n=e.$root.$$phase;"$apply"===n||"$digest"===n?t():e.$apply(t())}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";var r=n(14),o=n(2),i=o.utils,a=o.queue,c=[],s=function(){for(var e,t=[].slice.call(arguments),n=t.pop(),r=0,o=t.length;o>r;r++)if(t[r].hasOwnProperty(n))return e=t[r][n],delete t[r][n],e},u=function(e,t,n){return e=i.trim(e).replace(/\$\(([a-z]\w*)\)/gi,function(e,r){return s(t,n,r)})},l=function(e){var t=e.config.url;return!c.some(function(e){return e instanceof RegExp?e.test(t):t.indexOf(e)>-1})},p=function(e){return[e.config.method,e.config.url,r.param(e.config.params)].join("__")};e.lpCoreHttpInterceptor=function(e,t){function n(e){return e.data=e.data||{},e.params=e.params||{},e.url=u(e.url,e.data,e.params),e}function r(e){return t.reject(e)}function o(e){return e||t.when(e)}function s(n){if(n.status&&404!==n.status){"string"!=typeof n.data?n.data=n.data||{}:n.data={},n.data.errors=n.data.errors||[];var r=n.data.errors;if(r.length<=0&&r.push({code:n.status,message:n.statusText||"Unknown error message"}),401!==n.status&&403!==n.status&&l(n)){var o={contextId:p(n),messages:n.data.errors};return a.push(o,function(){return e.get("$http")(n.config)})}}return t.reject(n)}function f(e){e.ignore&&(e.ignore=e.ignore.map(function(e){return e instanceof RegExp?e:i.resolvePortalPlaceholders(e)}),c=c.concat(e.ignore))}return{configureNotifications:f,request:n,requestError:r,response:o,responseError:s}},e.lpCoreHttpInterceptor.$inject=["$injector","$q"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";function r(e,t,n){e.subscribe(n.LOCALE_CHANGE_EVENT,function(e){t.setLocale(e)})}t.name="core.i18n";var o=n(2);n(29),n(30);var i=n(15),a=n(3),c=n(8),s=n(6),u=["pascalprecht.translate","tmh.dynamicLocale",i.name,c.name,s.name,a.name];r.$inject=["lpCoreBus","lpCoreI18n","lpCoreI18nUtils"],t.exports=o.createModule(t.name,u).value("lpI18nCommonTranslation").constant(n(31)).factory(n(32)).provider(n(33)).filter(n(34)).directive(n(35)).factory(n(36)).directive(n(37)).run(r)}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t,n){var r;r=function(require,e,t){"use strict";var n={ALL:"Lek",AFN:"؋",ARS:"$",AWG:"ƒ",AUD:"$",AZN:"ман",BSD:"$",BBD:"$",BYR:"p.",BZD:"BZ$",BMD:"$",BOB:"$b",BAM:"KM",BWP:"P",BGN:"лв",BRL:"R$",BND:"$",KHR:"៛",CAD:"$",KYD:"$",CLP:"$",CNY:"¥",COP:"$",CRC:"₡",HRK:"kn",CUP:"₱",CZK:"Kč",DKK:"kr",DOP:"RD$",XCD:"$",EGP:"£",SVC:"$",EEK:"kr",EUR:"€",FKP:"£",FJD:"$",GHC:"¢",GIP:"£",GTQ:"Q",GGP:"£",GYD:"",HNL:"L",HKD:"$",HUF:"Ft",ISK:"kr",IDR:"Rp",IRR:"﷼",IMP:"£",ILS:"₪",JMD:"J$",JPY:"¥",JEP:"£",KZT:"лв",KGS:"лв",LAK:"₭",LVL:"Ls",LBP:"£",LRD:"$",LTL:"Lt",MKD:"ден",MYR:"RM",MUR:"₨",MXN:"$",MNT:"₮",MZN:"MT",NAD:"$",NPR:"₨",ANG:"ƒ",NZD:"$",NIO:"C$",NGN:"₦",KPW:"₩",NOK:"kr",OMR:"﷼",PKR:"₨",PAB:"B/.",PYG:"Gs",PEN:"S/.",PHP:"₱",PLN:"zł",QAR:"﷼",RON:"lei",RUB:"руб",SHP:"£",SAR:"﷼",RSD:"Дин.",SCR:"₨",SGD:"$",SBD:"$",SOS:"S",ZAR:"R",KRW:"₩",LKR:"₨",SEK:"kr",CHF:"CHF",SRD:"$",SYP:"£",TWD:"NT$",THB:"฿",TTD:"TT$",TRL:"₤",TVD:"$",UAH:"₴",GBP:"£",USD:"$",UYU:"$U",UZS:"лв",VEF:"Bs",VND:"₫",YER:"﷼",ZWD:"Z$"};e.lpCoreI18nUtils={WIDGET_TRANSLATION_PREFERENCE:"i18nEndPoint",CURRENCY_MAP:n,DEFAULT_TRANSLATIONS_PATH:"/locale/",COMMON_I18N_LOAD_EVENT:"lpi18n:data:load",LOCALE_CHANGE_EVENT:"lpi18n:locale:change",ALL_LOCALES_FILE:"all.json",parseLocale:function(e){if("en"===e)return"en-US";if("string"==typeof e){var t=e.split(/[-_]/);return t[1]||t.push(t[0]),t[0]=t[0].toLowerCase(),t[1]=t[1].toUpperCase(),t.join("-")}return""}}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";e.lpCoreI18nLoader=function(e,t,n,r,o,i,a,c){function s(e){return i({key:e,promise:function(){return r.get(e)}})}return function(r){var i=r.widgetUrl+t.DEFAULT_TRANSLATIONS_PATH;i=e.trimRight(i,"/")+"/"+(r.merged?t.ALL_LOCALES_FILE:r.key+".json");var u=r.i18nPath+"/"+(r.merged?"common.json":r.key+".json");return n.all({common:s(u),widget:s(i)}).then(function(n){var i;return r.merged?(o||(o=n.common.data,a.publish(t.COMMON_I18N_LOAD_EVENT,o)),i=e.extend({},n.common.data[r.key],n.widget.data[r.key])):(o=n.common.data,a.publish(t.COMMON_I18N_LOAD_EVENT,o),i=e.extend({},n.common.data,n.widget.data)),i})["catch"](function(e){c.captureException(e)})}},e.lpCoreI18nLoader.$inject=["lpCoreUtils","lpCoreI18nUtils","$q","$http","lpI18nCommonTranslation","lpCoreCachePromise","lpCoreBus","lpCoreError"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";function n(e){return document.getElementsByTagName("html")[0].getAttribute(e)}var r,o=!0;e.lpCoreI18n=function(e,t,i,a){if(!r){var c=window.launchpad;r={locale:i.parseLocale(n("lang")||n("xml:lang")||navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage),merged:!0,i18nPath:e.resolvePortalPlaceholders(c?"$(contextRoot)/static/launchpad/modules/config/i18n":"/bower_components/config/i18n")},c&&c.i18n&&(r.merged=c.i18n.mergedFiles,r.i18nPath=e.resolvePortalPlaceholders(c.i18n.path))}a.localeLocationPattern(r.i18nPath+"/ng-locale/angular-locale_{{locale}}.js"),t.preferredLanguage(r.locale),this.useWidgetInstance=function(n){e.isEmpty(n.getPreference("locale"))||t.useLoader("lpCoreI18nLoader",{i18nPath:r.i18nPath,merged:r.merged,widgetUrl:e.getWidgetBaseUrl(n)})},this.$get=function(e,t,n,a,c){return o&&(setTimeout(function(){c.publish(i.LOCALE_CHANGE_EVENT,r.locale)},0),o=!1),{setLocale:function(e){n.use(e),a.set(e.toLowerCase())},formatCurrency:function(t,n){var r=e("currencySymbol")(n);return e("currency")(t,r)},formatDate:function(t,n){return e("date")(t,n||"medium")},instant:function(e){return n.instant(e)}}},this.$get.$inject=["$filter","lpCoreI18nLoader","$translate","tmhDynamicLocale","lpCoreBus"]},e.lpCoreI18n.$inject=["lpCoreUtils","$translateProvider","lpCoreI18nUtils","tmhDynamicLocaleProvider"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";e.currencySymbol=function(e){return function(t){return e.CURRENCY_MAP[t]||""}},e.currencySymbol.$inject=["lpCoreI18nUtils"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e){"use strict";e.lpI18n=function(e){function t(t,n,r){r.$observe("lpI18n",function(r){n.attr("translate",r),n.removeAttr("lp-i18n"),e(n)(t)})}return{restrict:"AE",link:t,priority:Number.MAX_VALUE,terminal:!0}},e.lpI18n.$inject=["$compile"],e.lpI18nSwitch=function(e,t){function n(n,r,o){var i=o.lpI18nSwitch;if(i){i=i.split(",");var a;e.subscribe(t.LOCALE_CHANGE_EVENT,function(e){a=i.indexOf(e)}),r.on("click",function(n){n.preventDefault(),a=++a%i.length,e.publish(t.LOCALE_CHANGE_EVENT,i[a])})}}return{template:'<span translate="_languageCode"></span>',restrict:"AE",link:n}},e.lpI18nSwitch.$inject=["lpCoreBus","lpCoreI18nUtils"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";n(14);e.i18nUtils=function(e,t,n){var r={},o={getInstance:function(t){var r={url:n.resolvePortalPlaceholders(endpoint),method:"GET",cache:!0,data:{},headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;"}};return{read:function(){return e(r)}}},resolvePromise:function(e){var n=t.when(e);return{success:function(e){return n.then(e),n},error:function(e){return n.then(null,e),n},always:function(e){return n["finally"](e),n}}}};return r.loadMessages=function(e,t,n){var r;n=n||"messageSrc";var i=e.getPreference(n);if(i){var a=o.getInstance({endpoint:i});r=a.read()}else r=o.resolvePromise({});return r},r},e.i18nUtils.$inject=["$http","$q","lpCoreUtils"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";e.lpMessage=function(){return{replace:!1,restrict:"A",scope:{key:"=lpMessage",messages:"=lpBundle"},template:"{{value}}",link:function(e,t,n){var r=function(t,n){var r;r=n&&n.hasOwnProperty(t)?n[t]:"["+t+"]",e.value=r};e.$watch("key",function(t){r(t,e.messages)}),e.$watch("messages",function(t){r(e.key,t)})}}}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";function r(){this.$get=function(){var e={};return e.getItem=function(e){},e.setItem=function(e,t){},e.removeItem=function(e){},e.reset=function(){},e}}t.name="core.store";var o=n(2),i=[];t.exports=o.createModule(t.name,i).provider("lpCoreStore",r)}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))},function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";t.name="core.template";var r=n(2),o=[],i={},a={};i.lpCoreTemplate=function(e){var t={},n={};this.useWidgetInstance=function(n){var r={},o=e.getWidgetBaseUrl(n);n.model&&n.model.preferences&&n.model.preferences.array&&(r=e.reduce(n.model.preferences.array,function(e,t){return t.name.indexOf("widgetTemplate_")>-1&&(e[t.name.replace("widgetTemplate_","")]=t.value),e},{})),o&&(o=e.trimRight(o,"/")),e.extend(t,{path:o,templates:r})},this.$get=function(r){return n=function(t){this.options=t,e.defaults(this.options,{path:r.getAbsPath()})},n.prototype.getOptions=function(){return this.options},n.prototype.getOptionsPath=function(){return this.options.path},n.prototype.getFullPath=function(e){var t=this.getOptionsPath();return"/"===t?t+e:[t,e].join("/")},n.prototype.resolvePath=function(e,t){var n,r,o;if(t)r=t;else{var i=e.match(/(?:^|\/)([^\/]+?)\.html$/);r=i&&i[1]}return r&&this.options.templates[r]?(o=this.options.templates[r],n=/^https?:\/\//.test(o)?o:this.getFullPath(o)):n=this.getFullPath(e),n},new n(t)},this.$get.$inject=["lpCoreConfiguration"]},i.lpCoreTemplate.$inject=["lpCoreUtils"],a.lpTemplate=function(e,t,n){function r(e,r,o){var i,a=decodeURIComponent(r.lpTemplate||r.src);e.$watch(a,function(e){if(!e){if(void 0===e&&!/\.html$/.test(a))return o();n.deprecate('Template expression "'+a+'" is invalid and evaluated to "'+e+'". Raw path is used as is. See LPES-4017 for details.'),e=a}i=t.resolvePath(e,r.name),o('<div class="ng-transclude-node"></div><div ng-include src="\''+i+"'\"></div>")})}return{restrict:"AE",transclude:!0,priority:Number.MAX_VALUE,link:function(t,n,o,i,a){r(t,o,function(r){r&&(n.html(r).show(),a(function(e){n.find(".ng-transclude-node").html(e)}),e(n.contents())(t))})}}},a.lpTemplate.$inject=["$compile","lpCoreTemplate","lpCoreUtils"],t.exports=r.createModule(t.name,o).provider(i).directive(a)}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))},function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";t.name="core.update";var r=n(2),o=n(15),i=[o.name];t.exports=r.createModule(t.name,i).provider(n(41))}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))},function(e,t,n){var r;r=function(require,e){"use strict";var t=n(42),r=n(2).utils,o={};e.lpCoreUpdate=function(){this.$get=function(){var e=function(e,t){var n=!1;return r.isArray(e)?(e.forEach(function(e){e===t&&(n=!0)}),n):n},n=function(e){var n,o,i="actions",a="deps";return e&&t.hasOwnProperty(i)&&t.hasOwnProperty(a)?(n=t[i][e]||[],o=t[a][e]||[],r.chain(n).union(o).uniq().value()):!1},i=function(e){var t=o[e];!t||!r.isArray(t)||t.length<1||t.forEach(function(e){try{e()}catch(t){throw new Error(t)}})},a=function(e){!e||!r.isArray(e)||e.length<1||e.forEach(function(e){i(e)})},c=function(t,n){t&&"function"==typeof n&&(o.hasOwnProperty(t)||(o[t]=[]),e(o[t],n)||o[t].push(n))},s=function(e){e&&a(n(e))};return{subscribe:c,trigger:s}}}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";t.exports={actions:{newPaymentOrderInitiated:["reviewTransfer"]},deps:{transactions:["accounts"]}}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";t.name="core.widget";var r=n(2),o=[];t.exports=r.createModule(t.name,o).provider(n(44))}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))},function(e,t,n){var r;r=function(require,e,t){"use strict";e.lpCoreWidget=function(e,t){var n;this.useWidgetInstance=function(r){n=r,r.getResolvedPreference=function(e){var n=this.getPreference(e);return t.resolvePortalPlaceholders(n)},e.provider("lpWidget",function(){this.getInstance=this.$get=function(){return r}}),e.value("widget",n)},this.$get=this.getInstance=function(){return n}},e.lpCoreWidget.$inject=["$provide","lpCoreUtils"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";var r=n(2),o=[];t.exports=r.ng.module("common",o).constant("httpServicesConfig",{defaultConfig:{cacheTimeout:1e3,xhrTimeout:5e3}}).factory(n(46)).service(n(47)).service(n(48)).service(n(49)).service(n(50)).service(n(51))}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";var r=n(2),o=r.utils;e.formDataPersistence=function(){function e(){var e,t,n=(new Date).getTime().toString();try{return(e=window.localStorage).setItem(n,n),t=e.getItem(n)===n,e.removeItem(n),t&&e}catch(o){r.log.warn(o)}}var t=function(){};return t.prototype.saveFormData=function(t,n){if(e()){var r=JSON.stringify(n);window.sessionStorage.setItem(t,r)}},t.prototype.removeFormData=function(t){e()&&window.sessionStorage.removeItem(t)},t.prototype.getFormData=function(e){var t=JSON.parse(window.sessionStorage.getItem(e)),n=function(e){for(var t in e)if(e.hasOwnProperty(t)){if(t.toLowerCase().indexOf("date")>-1&&"boolean"!=typeof e[t]){var r=new Date(e[t]);isNaN(r.getTime())||(e[t]=r)}e[t]instanceof Object&&n(e[t])}return e};return n(t),t},t.prototype.isFormSaved=function(e){var t=window.sessionStorage.getItem(e);return null===t?!1:!0},{getInstance:function(){return o.deprecate("formDataPersistence is deprecated. It is now part of new transfer widget."),new t}}}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";var r=n(2).utils;e.PreferenceService=function(e,t,n,o){r.deprecate("PreferenceService is deprecated. Use lpUsersPreference in module-users.");var i=o.getPreference("preferenceService"),a=n.resolvePortalPlaceholders(i),c={Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};this.read=this.get=function(){return e.get(a,{headers:c})},this.save=function(t,r){var o={};return o[t]=r,e.put(a,n.buildQueryString(o),{headers:c})},this.put=function(n,r){var o={};return o[n]=r,e.put(a+"/"+n,t("json")(o),{headers:c})}},e.PreferenceService.$inject=["$http","$filter","lpCoreUtils","lpWidget"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";var r=n(2),o=r.ng,i=r.utils;e.ProfileDetailsService=function(e,t,n){function r(e){var n=[];return i.each(e,function(e,r){n.push({key:t.instant(r),value:"dateOfBirth"===r?t.formatDate(e):t.instant(e)})}),n}i.deprecate("ProfileDetailsService is deprecated. Use lpUserDetails in module-users.");var a={counterPartyServiceUrl:"$(servicesPath)/services/rest/v1/party-data-management/party"},c=this;c.config=a,c.setConfig=function(e){c.config=o.extend(a,e)},c.formatResponse=function(e){var n={fullname:[e.firstName,e.lastName].join(" "),details:r(e.details),activities:[],photoUrl:e.photoData};return!n.photoUrl&&e.photoUrl&&(n.photoUrl=i.decodePhotoUrl(e.photoUrl)),e.activities&&e.activities.lastLoggedIn&&n.activities.push({key:"Last Logged In",value:t.formatDate(e.activities.lastLoggedIn,"medium")}),n},c.getData=function(){var t=i.resolvePortalPlaceholders(c.config.counterPartyServiceUrl||a.counterPartyServiceUrl);return e.get(t,null,{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;"}})}},e.ProfileDetailsService.$inject=["$http","lpCoreI18n","lpCoreError"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";var r=n(2),o=r.utils;e.ProfileContactService=function(e,t,n){o.deprecate("ProfileContactService is deprecated. Use lpUserDetails in module-users.");var r=n.resolvePortalPlaceholders(t.getPreference("saveUrl"));this.read=function(){return e.get(r)},this.save=function(t,n){var o={};return o[t]=n,e.put(r,$.param(o),{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;"}})}},e.ProfileContactService.$inject=["$http","lpWidget","lpCoreUtils"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";e.P2PService=function(e,t,n){var r=t.getPreference("p2pEnrollmentEndpoint"),o="/emails/";r=n.resolvePortalPlaceholders(t.getPreference("p2pEnrollmentEndpoint")),this.emailType={primary:"PRIMARY",secondary:"SECONDARY"},this.emailStatus={verified:"VERIFIED",unverified:"UNVERIFIED"},this.getUserEnrollmentDetails=function(){return e.get(r,null,{headers:{Accept:"application/json","Content-Type":"application/json;"}})},this.enrollUserForP2P=function(t){return e.post(r,t,{headers:{Accept:"application/json","Content-Type":"application/json;"}})},this.editP2PEnrollment=function(t){return e.put(r,t,{headers:{Accept:"application/json","Content-Type":"application/json;"}})},this.editP2PDepositAccount=function(t){var n={accountNumber:t};return e.put(r,n,{headers:{Accept:"application/json","Content-Type":"application/json;"}})},this.addP2PEmailAddress=function(t){var n={value:t};return e.post(r+o,n,{headers:{Accept:"application/json","Content-type":"application/json;"}})},this.editP2PEmailAddress=function(t){var n={value:t.value,type:t.type};return e.put(r+o+t.id,n,{headers:{Accept:"application/json","Content-Type":"application/json;"}})},this.editP2PEmailAddressType=function(t){var n={type:t.type};return e.put(r+o+t.id,n,{headers:{Accept:"application/json","Content-Type":"application/json;"}})},this.deleteP2PEmailAddress=function(t){return e({method:"DELETE",url:r+o+t.id})},this.verifyCode=function(t,n){var o={verification:{email:t,code:n}};return e.put(r,o,{headers:{Accept:"application/json","Content-Type":"application/json;"}})}},e.P2PService.$inject=["$http","lpWidget","lpCoreUtils"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(require,e,t){"use strict";var n=function(){var e,t,n=new Date;try{return(e=window.localStorage).setItem(n,n),t=e.getItem(n)==n,e.removeItem(n),t&&e}catch(r){}};e.httpService=function(e,t,r,o,i){var a=function(e){i.assign(this,o.defaultConfig,e)};a.prototype.read=function(e,t){var n,r=this,o=c(this.endpoint,e);return t||(n=s(o)),n||(n=p(this.endpoint,"GET",{},this.contentType,e).success(function(e){u(o,e,r.cacheTimeout)})),n};var c=function(e,t){return t=t?"."+JSON.stringify(t):"","launchpad.services/"+e+t},s=function(e){var t=n()?sessionStorage.getItem(e):null,r=null;if(t)try{t=JSON.parse(t),t.expires&&t.expires>(new Date).getTime()?r=f(t.data):l(e)}catch(o){}return r},u=function(e,t,r){if(n())try{sessionStorage.setItem(e,JSON.stringify({expires:(new Date).getTime()+r,data:t}))}catch(o){}},l=function(e){sessionStorage.removeItem(e)};a.prototype.create=function(e){e=i.assign({},{method:"POST"},e);var t=e.contentType||this.contentType;return p(this.endpoint,e.method,e.data,t)},a.prototype.update=function(e){e=i.assign({},{method:"PUT"},e);var t=e.contentType||this.contentType;return p(this.endpoint,e.method,e.data,t)},a.prototype.del=function(e){return e=i.assign({},{method:"DELETE"},e),p(this.endpoint,e.method,e.data,this.contentType)};var p=function(t,n,r,o,a,c){function s(){return"file:"===window.location.protocol||"undefined"!=typeof window.__karma__}"GET"!==n||s()||(a=i.assign(a||{},{_:(new Date).getTime()})),o=o||"application/x-www-form-urlencoded;","application/x-www-form-urlencoded;"===o&&(r=i.buildQueryString(r||{}));var u={method:n,url:t,params:a,data:r,cache:!1,headers:{Accept:"application/json",
"Content-Type":o},timeout:c},l=e(u);return l},f=function(e){var n=t.defer(),o=n.promise;return o.success=function(e){return o.then(function(t){e(t)},null),o},o.error=function(e){return o.then(null,function(t){e(t)}),o},o.always=function(e){return o.then(null,null,function(t){e(t)}),o},r(function(){n.resolve(e)}),o},d={},v=function(e,t){if("string"==typeof e&&"object"==typeof t)for(var n in t)if(t.hasOwnProperty(n)){var r=new RegExp("\\$\\("+n+"\\)","g");e=e.replace(r,t[n])}return e},g=function(e){if(!e.endpoint||"string"!=typeof e.endpoint)throw new Error("You must specify an endpoint in your service config");return d[e.endpoint]||(e.endpoint=i.resolvePortalPlaceholders(e.endpoint,e.urlVars),e.endpoint=v(e.endpoint,e.urlVars),d[e.endpoint]=new a(e)),d[e.endpoint]};return{getInstance:g,resolvePromise:f}},e.httpService.$inject=["$http","$q","$timeout","httpServicesConfig","lpCoreUtils"]}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;(function(e){r=function(require,e,t){"use strict";t.name="core-deprecated";var r=n(2),o=[];t.exports=r.createModule(t.name,o).service(n(49)).service(n(48)).service(n(47))}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1)(e))}])});