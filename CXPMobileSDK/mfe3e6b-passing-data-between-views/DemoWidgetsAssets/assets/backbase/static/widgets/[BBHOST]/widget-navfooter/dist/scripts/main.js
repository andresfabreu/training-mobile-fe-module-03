!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base"),require("core")):"function"==typeof define&&define.amd?define(["base","core"],t):"object"==typeof exports?exports["widget-navfooter"]=t(require("base"),require("core")):e["widget-navfooter"]=t(e.base,e.core)}(this,function(e,t){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){var n;(function(e){n=function(require,e,t){"use strict";function n(e,t){var o=new a(e,t);return o.init()}t.name="widget-navfooter";var r=o(2),i=o(3),a=o(4),s=[i.name];n.$inject=["lpWidget","lpPortal"],t.exports=r.createModule(t.name,s).run(n)}.call(t,o,t,e),!(void 0!==n&&(e.exports=n))}).call(t,o(1)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(t,o){t.exports=e},function(e,o){e.exports=t},function(e,t,o){var n;n=function(require,e,t){"use strict";var o=window.jQuery,n="<div class=\"alert alert-block\"><h4>Warning!</h4><p>This navigation bar's root menu couldn't be found.</p></div>",r=function(e,t){this.widget=e,this.$widget=o(e.body),this.lpPortal=t};r.prototype.init=function(){var e=this,t=window.location.href,r=this.widget;if(this.lpPortal.designMode){var i=r.getPreference("navRoot");if(i)this.$widget.find(".bp-g-model").children().is(":empty")&&be.utils.ajax({url:b$.portal.config.serverRoot+"/portals/"+b$.portal.portalName+"/widgets/"+r.model.name+".html",cache:!1,success:function(t){var r=o(t).find(".bp-g-model").children().is(":empty")?n:o(t).find(".bp-widget-body").contents();e.$widget.html(r)}});else{var a=top&&top.bd&&top.bd.pm&&top.bd.pm.model&&top.bd.pm.model.links;a&&(i=Object.keys(a).filter(function(e){return"navroot_mainmenu"===a[e].linkname}),i&&i[0]&&(r.setPreference("navRoot",i[0]),r.model.save(function(){r.refreshHTML()})))}}return e.$widget.find("a").off().on("click",function(e){return be.Nav.URLHandler(this)}).filter(function(){var e=o(this).attr("href"),n=t.substr(t.lastIndexOf("/")),r=e.indexOf(n)>-1;return r}).parent().addClass("active"),this},t.exports=r}.call(t,o,t,e),!(void 0!==n&&(e.exports=n))}])});