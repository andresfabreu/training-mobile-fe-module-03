<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:g="http://www.backbase.com/2008/gadget">
<head>
    <title>Places Widget</title>
    <link rel="stylesheet" href="styles/base.css" type="text/css" />
    <link rel="stylesheet" href="bower_components/theme/themes/default/css/base.css" type="text/css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.15/require.js"></script>
    <script src="/bower_components/config/requirejs.conf.js"></script>
    <script>
        require(['base'], function (base) {

            var __WIDGET__ = {
                body: document.body,
                id: base.utils.unique('widget-'),
                addEventListener: function() {},
                model: {
                    name: 'widget-places'
                },
                getPreference: function(name){
                    switch(name){
                        // case 'filterDataSrc': return '/portalserver/services/rest/v1/places/options'; break;
                        case 'filterDataSrc': return '/api/v1/places/options'; break;
                        // case 'placesDataSrc': return '/portalserver/services/rest/v1/places'; break;
                        case 'placesDataSrc': return '/api/v1/places'; break;
                        case 'zoom': return 13; break;
                        case 'maxZoomOut': return 9; break;
                        case 'showPOI': return false; break;
                        case 'currentPosition': return true; break;
                        case 'staticMapZoom': return '16.0'; break;
                        case 'title': return 'Places'; break;
                        case 'geolocationTimeout': return 5000; break;
                        case 'sticky': return false; break;
                        case 'panControl': return true; break;
                        case 'fillViewportHeight': return true; break;
                        case 'staticMapThumbSize': return '350x250'; break;
                        case 'longitude': return '-74.003692'; break;
                        case 'latitude': return '40.722823'; break;
                        case 'placesFilterRadius': return '50'; break;
                        case 'placesPageSize': return '20'; break;
                        case 'directionApiUrl': return 'https://maps.google.com/maps'; break;
                        case 'staticMapApiUrl': return 'http://maps.googleapis.com/maps/api/staticmap'; break;
                        case 'src': return './'; break;
                        // case 'locale': return 'en-US'; break;
                    }
                }
            }
            base.requireWidget(__WIDGET__ , 'scripts/main');

        });
    </script>
</head>
<body class="lp-places">

    <lp-template src="templates/main.ng.html"></lp-template>

</body>
</html>
