!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base")):"function"==typeof define&&define.amd?define(["base"],t):"object"==typeof exports?exports["module-tags"]=t(require("base")):e["module-tags"]=t(e.base)}(this,function(e){return function(e){function t(n){if(i[n])return i[n].exports;var l=i[n]={exports:{},id:n,loaded:!1};return e[n].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){var n;(function(e){n=function(require,e,t){"use strict";t.name="module-tags";var n=i(1),l=[];t.exports=n.createModule(t.name,l).factory(i(2)).directive(i(3))}.call(t,i,t,e),!(void 0!==n&&(e.exports=n))}).call(t,i(4)(e))},function(t,i,n){t.exports=e},function(e,t,i){var n;n=function(require,e,t){"use strict";var n=i(1).utils,l=window.jQuery;e.lpTagsUtils=function(e,t){var i,o=[],s=[],a=[],r=function(e){return n.isPlainObject(e)&&n.keys(e).length},c=function(e){var t=!1,i=n.keys(e);return s.forEach(function(e,l){var o=n.intersection(i,n.keys(e));o.length===i.length&&(t=l)}),t},u=function(e){s.push(e)},p=function(e,t){i=t;var l=n.keys(e);l.forEach(function(i){s[t][i]=e[i]})},d=function(t){o.forEach(function(i){i.is(":visible")&&(i.val()?i.val(""):i.autosuggest("changeModel"),e(function(){i.autosuggest("fixPosition"),t&&i.val(t)}))})},f=function(){var e=[];return a.length?a.forEach(function(t){e.push(t)}):s.forEach(function(t){var i=n.values(t);e.push({text:i.join(" : "),icon:""})}),e},g=function(){var e={};return s.forEach(function(t){var i=n.keys(t),l=n.values(t);i.forEach(function(t,i){e[t]=l[i]})}),n.keys(e).length?e:!1},b=function(i){e(function(){d(i),t.publish("lpTagsChangeView",f()),t.publish("lpTagsChange",g())})},m=function(e){if(i=void 0,!r(e))return!1;var t=c(e);t===!1?u(e):p(e,t),b()},v=function(t,l){var o=function(e){n.isPlainObject(e)&&(void 0===i?a.push(e):a[i]=e)};l===!0?o(t):e(function(){o(t)})},h=function(e){m(e.filterItem),v(e.msg,!0)},T=function(e,t){var i;s.splice(e,1),a[e]&&(i=a.splice(e,1)),t?b(i[0].text):b()},x=function(e){s.forEach(function(t,i){t.hasOwnProperty(e)&&T(i)})},C=function(e){T(e,!0)},y=function(){return s=[],a=[],b(),g()},k=function(e){o.push(l(e))};return t.subscribe("lpTagsRemove",T),t.subscribe("lpTagsRemoveEdit",C),t.subscribe("lpTagsRemoveByName",x),t.subscribe("lpTagsSet",m),t.subscribe("lpFilterSet",h),t.subscribe("lpTagsInputField",k),t.subscribe("lpSearchSelectValue",v),{getFilters:g,setFilter:m,removeFilter:T,clearFilters:y}},e.lpTagsUtils.$inject=["$timeout","lpCoreBus"]}.call(t,i,t,e),!(void 0!==n&&(e.exports=n))},function(e,t,i){var n;n=function(require,e,t){"use strict";e.lpTags=function(e,t,i){return e.put("$lpTagsTemplate.html",'<div ng-repeat="tag in model.tags" class="lpTag {{tag.icon}}" title="{{ tag.text }}">&nbsp;<span title="Click to edit this filter" class="lpTagText" ng-click="removeTagEdit($index)">{{ tag.text }}</span><span title="Remove filter" class="lpTag lp-icon lp-icon-small lp-icon-remove lpTagClose" ng-click="removeTag($index)"></span></div>'),{restrict:"A",scope:{empty:"@"},template:e.get("$lpTagsTemplate.html"),link:function(e,t,n){e.model={},e.model.tags=[],e.empty=e.empty||"",i.subscribe("lpTagsChangeView",function(t){e.model.tags=t}),e.removeTag=function(e){i.publish("lpTagsRemove",e)},e.removeTagEdit=function(e){i.publish("lpTagsRemoveEdit",e)}}}},e.lpTags.$inject=["$templateCache","lpTagsUtils","lpCoreBus"],e.lpTagsFilters=function(e,t,i){return e.put("$lpFiltersTemplate.html",'<div class="btn-group" dropdown is-open="model.isOpen"><button type="button" ng-click="toggleDropdown()" class="btn btn-default dropdown-toggle" dropdown-toggle><i class="lp-icon lp-icon-filter"></i></button><ul class="dropdown-menu" role="menu"><li><div class="debit-credit-wrapper"><header class="header">Transactions:</header><div class="btn-group"><label class="btn btn-default btn-sm" ng-model="model.debitCredit" btn-radio="0">All</label><label class="btn btn-default btn-sm" ng-model="model.debitCredit" btn-radio="1">Debit</label><label class="btn btn-default btn-sm" ng-model="model.debitCredit" btn-radio="2">Credit</label></div></div></li></ul></div>'),{restrict:"A",scope:{},template:e.get("$lpFiltersTemplate.html"),link:function(e,t,n){e.model={},e.model.isOpen=!1,e.model.debitCredit=0,e.debitCreditName="bk",e.toggleDropdown=function(){e.model.isOpen=!e.model.isOpen},e.$watch("model.debitCredit",function(t){if(void 0!==t){if(0===t)return void i.publish("lpTagsRemoveByName",e.debitCreditName);var n=1===t?"Debit":"Credit",l={};l[e.debitCreditName]=t,i.publish("lpFilterSet",{filterItem:l,msg:{icon:"lpTag lp-icon lp-icon-small lp-icon-filter",text:n,type:"filter"}})}}),i.subscribe("lpTagsChange",function(t){t[e.debitCreditName]||(e.model.debitCredit=0)})}}},e.lpTagsFilters.$inject=["$templateCache","lpTagsUtils","lpCoreBus"]}.call(t,i,t,e),!(void 0!==n&&(e.exports=n))},function(e,t,i){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}])});