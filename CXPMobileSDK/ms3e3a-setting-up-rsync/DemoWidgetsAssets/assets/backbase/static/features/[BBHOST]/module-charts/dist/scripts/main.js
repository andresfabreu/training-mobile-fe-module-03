!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("base"),require("d3")):"function"==typeof define&&define.amd?define(["base","d3"],n):"object"==typeof exports?exports["module-charts"]=n(require("base"),require("d3")):t["module-charts"]=n(t.base,t.d3)}(this,function(t,n){return function(t){function n(r){if(e[r])return e[r].exports;var a=e[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){e(4),t.exports=e(8)},,,,function(t,n,e){var r=e(5);"string"==typeof r&&(r=[[t.id,r,""]]);e(7)(r,{});r.locals&&(t.exports=r.locals)},function(t,n,e){n=t.exports=e(6)(),n.push([t.id,"/**\n * D3 Tip\n */\n.d3-tip {\n  padding: 7px;\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n  border-radius: 5px;\n  position: absolute;\n  top: 0;\n  opacity: 0;\n  z-index: 1;\n  pointer-events: none;\n  box-shadow: 0 0 1px #fff;\n  white-space: nowrap;\n}\n.d3-tip.no-bl {\n  border-bottom-left-radius: 0;\n}\n.d3-tip.no-br {\n  border-bottom-right-radius: 0;\n}\n.d3-tip .arrow {\n  border-top: 7px solid rgba(0, 0, 0, 0.7);\n  border-left: 7px solid transparent;\n  border-right: 7px solid transparent;\n  border-bottom: 0;\n  position: absolute;\n  left: 50%;\n  top: 100%;\n  margin-left: -7px;\n}\n.lp-bar-chart .domain {\n  fill: none;\n  stroke: #eee;\n}\n.lp-bar-chart .axis line,\n.lp-bar-chart .axis path {\n  fill: none;\n  stroke: #eee;\n}\n.lp-bar-chart rect {\n  fill: #337AB7;\n}\n.lp-line-chart .domain {\n  fill: none;\n  stroke: #eee;\n}\n.lp-line-chart .axis line,\n.lp-line-chart .axis path {\n  fill: none;\n  stroke: #eee;\n}\n.lp-line-chart .line {\n  stroke: #337ab7;\n  stroke-width: 2;\n  fill: none;\n}\n.lp-line-chart .points circle {\n  fill: #fff;\n  stroke: #4682b4;\n}\n",""])},function(t,n){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],n=0;n<this.length;n++){var e=this[n];t.push(e[2]?"@media "+e[2]+"{"+e[1]+"}":e[1])}return t.join("")},t.i=function(n,e){"string"==typeof n&&(n=[[null,n,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(r[i]=!0)}for(a=0;a<n.length;a++){var o=n[a];"number"==typeof o[0]&&r[o[0]]||(e&&!o[2]?o[2]=e:e&&(o[2]="("+o[2]+") and ("+e+")"),t.push(o))}},t}},function(t,n,e){function r(t,n){for(var e=0;e<t.length;e++){var r=t[e],a=d[r.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(s(r.parts[i],n))}else{for(var o=[],i=0;i<r.parts.length;i++)o.push(s(r.parts[i],n));d[r.id]={id:r.id,refs:1,parts:o}}}}function a(t){for(var n=[],e={},r=0;r<t.length;r++){var a=t[r],i=a[0],o=a[1],s=a[2],c=a[3],l={css:o,media:s,sourceMap:c};e[i]?e[i].parts.push(l):n.push(e[i]={id:i,parts:[l]})}return n}function i(){var t=document.createElement("style"),n=h();return t.type="text/css",n.appendChild(t),t}function o(){var t=document.createElement("link"),n=h();return t.rel="stylesheet",n.appendChild(t),t}function s(t,n){var e,r,a;if(n.singleton){var s=g++;e=v||(v=i()),r=c.bind(null,e,s,!1),a=c.bind(null,e,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=o(),r=u.bind(null,e),a=function(){e.parentNode.removeChild(e),e.href&&URL.revokeObjectURL(e.href)}):(e=i(),r=l.bind(null,e),a=function(){e.parentNode.removeChild(e)});return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else a()}}function c(t,n,e,r){var a=e?"":r.css;if(t.styleSheet)t.styleSheet.cssText=m(n,a);else{var i=document.createTextNode(a),o=t.childNodes;o[n]&&t.removeChild(o[n]),o.length?t.insertBefore(i,o[n]):t.appendChild(i)}}function l(t,n){{var e=n.css,r=n.media;n.sourceMap}if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}function u(t,n){var e=n.css,r=(n.media,n.sourceMap);r&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([e],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(a),i&&URL.revokeObjectURL(i)}var d={},f=function(t){var n;return function(){return"undefined"==typeof n&&(n=t.apply(this,arguments)),n}},p=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,g=0;t.exports=function(t,n){n=n||{},"undefined"==typeof n.singleton&&(n.singleton=p());var e=a(t);return r(e,n),function(t){for(var i=[],o=0;o<e.length;o++){var s=e[o],c=d[s.id];c.refs--,i.push(c)}if(t){var l=a(t);r(l,n)}for(var o=0;o<i.length;o++){var c=i[o];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete d[c.id]}}}};var m=function(){var t=[];return function(n,e){return t[n]=e,t.filter(Boolean).join("\n")}}()},function(t,n,e){var r;(function(t){r=function(require,t,n){"use strict";n.name="module-charts";var r=e(10),a=e(11),i=e(17),o=e(20),s=[a.name,i.name,o.name];return r.createModule(n.name,s)}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))}).call(n,e(9)(t))},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(n,e){n.exports=t},function(t,n,e){var r;(function(t){r=function(require,t,n){"use strict";n.name="bar-chart";var r=e(10),a=[];return r.createModule(n.name,a).directive(e(12))}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))}).call(n,e(9)(t))},function(t,n,e){var r;r=function(require,t,n){"use strict";function r(t){return t.length<=7?t:t.filter(function(t,n){return n%4===0})}var a=e(10),i=a.ng,o=a.utils,s=e(13),c=e(14),l=e(15),u=e(16);t.lpBarChart=function(t){function n(n,e){function a(){y.render(),b.render()}function d(){var t=p.width(),n=x.height||p.height();h.attr("width",t),h.attr("height",n),t-=x.padding[1]+x.padding[3],n-=x.padding[0]+x.padding[2],0>=t||(g.range([0,t]),m.range([n,0]),b.resize(t,n),y.barWidth(t/x.data.length/2),w.resize(t,n),a())}function f(t){if(t){o.assign(x,t),g.domain(s.extent(x.data,x.parsers.x)),m.domain(s.extent(x.data,x.parsers.y)),v.attr("transform","translate("+x.padding[3]+","+x.padding[0]+")");var n=r(x.data);b.ticks({x:n.map(x.parsers.x),y:3}),y.duration(2e3),d(),y.duration(0),k()}}var p=e.find(".canvas"),h=s.select(e.find("svg")[0]),v=h.append("g"),g=s.time.scale(),m=s.scale.linear(),x={node:v,xScale:g,yScale:m},b=c(x),y=u(x),w=l(x),k=o.once(function(){i.element(t).on("resize",o.debounce(d,250))});n.$watch("options",f)}return{restrict:"EA",replace:!0,link:n,template:'<div class="lp-bar-chart">  <div class="canvas"><svg class="chart"></svg></div></div>',scope:{options:"=lpChartOptions"}}},t.lpBarChart.$inject=["$window"]}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))},function(t,e){t.exports=n},function(t,n,e){var r;r=function(require,t,n){"use strict";function r(t,n){n&&t[Array.isArray(n)?"tickValues":"ticks"](n)}var a=e(13);n.exports=function(t){function n(){o.tickFormat(t.formatters.x),s.tickFormat(t.formatters.y),c.call(o),l.call(s)}function e(t,n){o.tickSize(-n),s.tickSize(-t),c.attr("transform","translate(0,"+n+")")}var i=t.node,o=a.svg.axis().scale(t.xScale).tickPadding(10).orient("bottom"),s=a.svg.axis().scale(t.yScale).tickPadding(10).orient("left"),c=i.append("g").attr("class","x axis"),l=i.append("g").attr("class","y axis");return{ticks:function(t){r(o,t.x),r(s,t.y)},resize:e,render:n}}}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))},function(t,n,e){var r;r=function(require,t,n){"use strict";var r=e(13),a=e(10).ng,i='<div class="arrow"></div>',o=7,s=5;n.exports=function(t){function n(n){v.html(i+t.formatters.tooltip(n)).css("opacity",1);var e=h.offset();e.left=e.left+d(t.parsers.x(n))-v.outerWidth()/2|0,e.top=e.top+f(t.parsers.y(n))-v.outerHeight()-o|0,v.offset(e);var r=v[0].getBoundingClientRect(),a=t.node.node().getBoundingClientRect(),c=0|(r.left<a.left?r.left-a.left:r.right>a.right?r.right-a.right:0),l=r.width/2-o|0;if(v.toggleClass("no-bl",s-l>c).toggleClass("no-br",c>l-s),c){e.left-=c,v.css(e);var u=o,p=o;-l>c?(u=Math.max(0,l+o+c),c=-l):c>l&&(p=Math.max(0,l+o-c),c=l+o-p),v.find(".arrow").css({"margin-left":c-o,"border-left-width":u,"border-right-width":p})}}function e(){var e=t.data,a=+d.invert(r.mouse(this)[0]);u=u||r.bisector(t.parsers.x).left;var i=u(e,a,1);if(i<e.length){var o=e[i-1],s=e[i];n(a-t.parsers.x(o)<t.parsers.x(s)-a?o:s)}}function c(){v.css("opacity",0)}function l(t,n){p.attr({width:t,height:n})}var u,d=t.xScale,f=t.yScale,p=t.node.append("rect").style("opacity",0).attr({x:0,y:0}),h=a.element(p.node()),v=a.element('<div class="d3-tip"/>').appendTo(document.body);return p.on("mousemove",e).on("mouseleave",c),{resize:l}}}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))},function(t,n,e){var r;r=function(require,t,n){"use strict";n.exports=function(t){function n(){var n=o.selectAll("rect").data(t.data);n.enter().append("rect"),n.exit().remove(),n.attr({y:i(0),height:0}).transition().duration(r).attr({width:e,x:function(n){return a(t.parsers.x(n))-e/2},y:function(n){return Math.min(i(0),i(t.parsers.y(n)))},height:function(n){return Math.abs(i(0)-i(t.parsers.y(n)))}})}var e,r,a=t.xScale,i=t.yScale,o=t.node.append("g"),s={attr:function(t,n){return o.attr(t,n),s},barWidth:function(t){return e=t,s},duration:function(t){return r=t,s},render:n};return s}}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))},function(t,n,e){var r;(function(t){r=function(require,t,n){"use strict";n.name="donut-chart";var r=e(10),a=[];return r.createModule(n.name,a).directive(e(18))}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))}).call(n,e(9)(t))},function(t,n,e){var r;r=function(require,t,n){"use strict";function r(t){return t.data.color}function a(t){return 180*t/Math.PI}var i=e(10),o=i.ng,s=i.utils,c=e(13),l=e(19);t.lpDonutChart=function(t){function n(n,e){function i(){var t=e.parent(),r=parseInt(e.css("max-height"),10),a=r?Math.min(r,t.innerWidth()):t.innerWidth();if(!(0>=a)){var i=e.outerWidth(!0)-e.outerWidth();m=a-i,e.width(m).height(m),n.onResize&&n.onResize(m,m);var o=m/2,s=.55*o;h.outerRadius(o).innerRadius(s),g.select(".arcs").selectAll(".arc").attr("d",h),g.attr("transform","translate("+o+","+o+")");var c=m/20;g.select(".arrow").attr({transform:"translate(0,"+-.85*s+")",d:"M0,0 l-"+.5*c+",-"+.866*c+" l"+c+",0"})}}function u(t){if(t){var e=g.selectAll(".arc").filter(function(n){return n.data===t});if(e[0].length>0){var r=e.datum();g.select(".arrow").attr({fill:t.color}),g.selectAll(".arrow-group").attr({transform:"rotate("+a((r.endAngle+r.startAngle)/2)+")"})}n.onSelect&&n.onSelect(t)}}function d(t){var n=c.interpolate(this.current,t);return this.current=n(0),function(t){return h(n(t))}}function f(){var t=n.options.data;if(m&&t&&t.length){x||(x=t.map(function(t){return{color:t.color,amount:Number.MIN_VALUE}}),x[p?"unshift":"push"]({color:"none",amount:Number.MAX_VALUE}));for(var e=t.concat();e.length<x.length;)e[p?"unshift":"push"]({color:"none",amount:Number.MIN_VALUE});for(;t.length>x.length;)x[p?"push":"unshift"]({color:"#fff",amount:Number.MIN_VALUE});var a=g.select(".arcs").selectAll(".arc").data(v(x));x=t.concat(),a.enter().append("path").attr("class","arc").on("click",s.compose(u,s.property("data"))),a.attr("d",h).style("fill",r).each(function(t){this.current=t}),a.exit().remove();var i=n.options.animation||500;a.data(v(e)).transition().duration(i).attrTween("d",d).style("fill",r).call(l.endAll,function(){u(t[t.length-1])})}}n.options=s.assign({},n.options);var p="anticlockwise"===n.options.animationDirection,h=c.svg.arc(),v=c.layout.pie().sort(null).value(function(t){return t.amount}),g=c.select(e[0]).append("g");g.append("g").attr("class","arcs"),g.append("g").attr("class","arrow-group").append("path").attr({"class":"arrow",fill:"none"});var m,x;o.element(t).on("resize",s.debounce(i,250)),n.$watch("options",function(){i(),f()}),n.$watch("item",u)}return{restrict:"EA",replace:!0,transclude:!0,link:n,scope:{item:"=",onSelect:"=",onResize:"=",options:"="},template:"<svg><g ng-transclude></g></svg>"}},t.lpDonutChart.$inject=["$window"]}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))},function(t,n,e){var r;r=function(require,t,n){"use strict";var e={};e.endAll=function(t,n){if(0===t.size())return void n();var e=0;t.each(function(){++e}).each("end",function(){--e||n.apply(this,arguments)})},n.exports=e}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))},function(t,n,e){var r;(function(t){r=function(require,t,n){"use strict";n.name="line-chart";var r=e(10),a=[];return r.createModule(n.name,a).directive(e(21))}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))}).call(n,e(9)(t))},function(t,n,e){var r;r=function(require,t,n){"use strict";function r(t){return t.length<=7?t:t.filter(function(t,n){return n%4===0})}var a=e(10),i=a.ng,o=a.utils,s=e(13),c=e(14),l=e(15),u=e(22),d=e(23);t.lpLineChart=function(t){function n(n,e){function a(){k.render(),S.render(),w.render()}function f(){var t=h.width(),n=b.height||h.height();v.attr("width",t),v.attr("height",n),t-=b.padding[1]+b.padding[3],n-=b.padding[0]+b.padding[2],0>=t||(m.range([0,t]),x.range([n,0]),w.resize(t,n),C.resize(t,n),a())}function p(t){if(t){o.assign(b,t),m.domain(s.extent(b.data,b.parsers.x)),x.domain([Math.min(0,s.min(b.data,b.parsers.y)),Math.max(0,s.max(b.data,b.parsers.y))]),g.attr("transform","translate("+b.padding[3]+","+b.padding[0]+")");var n=r(b.data);w.ticks({x:n.map(b.parsers.x),y:3}),y.data=n,k.duration(2e3),S.duration(2e3),f(),k.duration(0),S.duration(0),M()}}var h=e.find(".canvas"),v=s.select(e.find("svg")[0]),g=v.append("g"),m=s.time.scale(),x=s.scale.linear(),b={node:g,xScale:m,yScale:x},y=Object.create(b),w=c(b),k=u(b),S=d(y).attr("class","points"),C=l(b),M=o.once(function(){i.element(t).on("resize",o.debounce(f,250))});n.$watch("options",p)}return{restrict:"EA",replace:!0,link:n,template:'<div class="lp-line-chart"><div class="canvas"><svg class="chart"></svg></div></div>',scope:{options:"=lpChartOptions"}}},t.lpLineChart.$inject=["$window"]}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))},function(t,n,e){var r;r=function(require,t,n){"use strict";function r(t,n,e){var r=t.node();if("function"==typeof r.getTotalLength){var a=r.getTotalLength();t.attr("class","line").attr("stroke-dasharray",a+" "+a).attr("stroke-dashoffset","right"===e?a:-a).transition().duration(n).attr("stroke-dashoffset",0)}}var a=e(13);n.exports=function(t){function n(){l.datum(t.data).attr("d",c),r(l,e,t.animation&&t.animation.direction)}var e,i=t.xScale,o=t.yScale,s=t.node.append("g"),c=a.svg.line().x(function(n){return i(t.parsers.x(n))}).y(function(n){return o(t.parsers.y(n))}),l=s.append("path").attr("class","line"),u={duration:function(t){return e=t,u},render:n};return u}}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))},function(t,n,e){var r;r=function(require,t,n){"use strict";n.exports=function(t){function n(){var n=i.selectAll("circle").data(t.data);n.enter().append("circle"),n.exit().remove(),n.attr("r",0).transition().delay(e).duration(e/4).attr({r:4,cx:function(n){return r(t.parsers.x(n))},cy:function(n){return a(t.parsers.y(n))}})}var e,r=t.xScale,a=t.yScale,i=t.node.append("g"),o={attr:function(t,n){return i.attr(t,n),o},duration:function(t){return e=t,o},render:n};return o}}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))}])});