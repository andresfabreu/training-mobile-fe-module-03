!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base"),require("ui"),require("core"),require("module-accounts"),require("module-transactions-2"),require("module-contacts"),require("module-freshness")):"function"==typeof define&&define.amd?define(["base","ui","core","module-accounts","module-transactions-2","module-contacts","module-freshness"],t):"object"==typeof exports?exports["widget-transactions-new"]=t(require("base"),require("ui"),require("core"),require("module-accounts"),require("module-transactions-2"),require("module-contacts"),require("module-freshness")):e["widget-transactions-new"]=t(e.base,e.ui,e.core,e["module-accounts"],e["module-transactions-2"],e["module-contacts"],e["module-freshness"])}(this,function(e,t,n,o,c,a,r){return function(e){function t(o){if(n[o])return n[o].exports;var c=n[o]={exports:{},id:o,loaded:!1};return e[o].call(c.exports,c,c.exports,t),c.loaded=!0,c.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var o;(function(e){o=function(require,e,t){"use strict";function o(e,t,n,o){t.setConfig({endpoint:e.getPreference("categoryDataSrc")}),n.setConfig({accountsEndpoint:e.getPreference("accountsDataSrc")}),o.setConfig({transactionsEndpoint:e.getPreference("transactionsDataSrc"),transactionDetailsEndpoint:e.getPreference("transactionDetailsDataSrc"),pageSize:parseInt(e.getPreference("transactionsPageSize"),10)||void 0})}t.name="widgets-transactions-3";var c=n(1),a=n(2),r=n(3),s=n(4),i=n(5),l=n(6),u=n(7),p=[r.name,a.name,s.name,i.name,l.name,u.name];o.$inject=["lpWidget","lpTransactionsCategory","lpAccounts","lpTransactions"],t.exports=c.createModule(t.name,p).controller(n(8)).run(o)}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))}).call(t,n(9)(e))},function(t,n,o){t.exports=e},function(e,n,o){e.exports=t},function(e,t,o){e.exports=n},function(e,t,n){e.exports=o},function(e,t,n){e.exports=c},function(e,t,n){e.exports=a},function(e,t,n){e.exports=r},function(e,t,n){var o;o=function(require,e){"use strict";e.MainCtrl=function(e,t,n,o,c,a,r,s,i,l,u,p,f){var d=function(){setTimeout(function(){e.$apply()})},m={ACCOUNT:"account",CARD:"card"},h=function(e,t){r.forEach(l.accounts,function(n){t[m[e]+"Id"]===n.id&&(l.selected=n)}),d()},g=function(){e.lpTransactionsCategory.getAll(),e.lpContacts.loadContacts()},C=function(){e.lpAccounts=l,e.lpTransactionsCategory=s.api(),e.lpTransactions=i.api(),e.lpContacts=new p({contacts:r.resolvePortalPlaceholders(o.getPreference("contactsDataSrc")),lazyload:!0}),e.showCharts=r.parseBoolean(o.getPreference("showCharts")),e.showAccountSelect=r.parseBoolean(o.getPreference("showAccountSelect")),e.accountsTopBalance=o.getPreference("preferredBalanceView")||"current",e.showCategories=!1,e.offsetTopCorrection=0,e.accountSelectSize="large",e.tabs={list:!0,chart:!1,combined:!1},l.load().then(function(){if(!l.selected&&l.accounts&&l.accounts.length>0){var e=l.findByAccountNumber(o.getPreference("defaultAccount"))||l.accounts[0];l.selected=e,c.subscribe("launchpad-retail.accountSelected",function(e){e.originType&&"transactions"===e.originType||h(m.ACCOUNT,e)}),c.subscribe("launchpad-retail.cardSelected",function(e){e.cardId&&h(m.CARD,e)})}}),g(),c.subscribe("launchpad-retail.offsetTopCorrection",function(t){e.offsetTopCorrection=t.offsetTopCorrection}),f.read().success(function(t){e.showCategories=r.parseBoolean(t.pfmEnabled)})};e.accountChanged=function(){c.publish("launchpad-retail.accountSelected",{accountId:l.selected.id,originType:"transactions",_noBehavior:!0},!0)},e.selectTab=function(t){e.$broadcast("tabSelected",t)},e.transferMoney=function(){c.publish("launchpad-retail.requestMoneyTransfer")},u.enable(t).rule({"max-width":200,then:function(){e.categorySmallLayout=!1,e.responsiveClass="lp-tile-size",d()}}).rule({"min-width":201,"max-width":375,then:function(){e.accountSelectSize="small",e.categorySmallLayout=!0,e.responsiveClass="lp-small-size",d()}}).rule({"min-width":376,"max-width":600,then:function(){e.accountSelectSize="large",e.categorySmallLayout=!1,e.responsiveClass="lp-medium-size",d()}}).rule({"min-width":601,then:function(){e.categorySmallLayout=!1,e.responsiveClass="lp-large-size",d()}}),C(),c.subscribe("lpDataFreshnessRefresh",function(e){l.load(!0).then(function(){c.publish("lpDataFreshnessChanged",e)}),g()})},e.MainCtrl.$inject=["$scope","$element","$timeout","lpWidget","lpCoreBus","i18nUtils","lpCoreUtils","lpTransactionsCategory","lpTransactions","lpAccounts","lpUIResponsive","ContactsModel","PreferenceService"]}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e,t,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}])});