!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?exports["widget-navbar"]=t(require("jquery")):e["widget-navbar"]=t(e.jquery)}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var i;i=function(require,e,t){"use strict";var i=n(1),o="<div class=\"alert alert-block\"><h4>Warning!</h4><p>This navigation bar's root menu couldn't be found.</p></div>",r=function(e){this.widget=e,this.$widget=i(e.body)};r.prototype.init=function(){var e=this,t=this.widget;if("true"===bd.designMode){var n=t.getPreference("navRoot");if(n)this.$widget.find(".bp-g-model").children().is(":empty")&&be.utils.ajax({url:b$.portal.config.serverRoot+"/portals/"+b$.portal.portalName+"/widgets/"+this.widget.model.name+".html",cache:!1,success:function(t){var n=i(t).find(".bp-g-model").children().is(":empty")?o:i(t).find(".bp-widget-body").contents();e.$widget.html(n)}});else{var r=top&&top.bd&&top.bd.pm&&top.bd.pm.model&&top.bd.pm.model.links;r&&(n=Object.keys(r).filter(function(e){return"navroot_mainmenu"===r[e].linkname}),n&&n[0]&&(t.setPreference("navRoot",n[0]),t.model.save(function(){t.refreshHTML()})))}}var a=e.$widget.find(".nav a[data-uuid]").off();a.on("click",function(){return be.Nav.URLHandler(this)}).filter(function(){return i(this).attr("data-uuid")===window.b$.portal.pageUUID}).parent().addClass("active"),e.$widget.find("ul.navbar-nav > li:first-child > a").html('<i class="lp-icon lp-icon-house"></i><span class="sr-only">Home</span>'),e.$widget.find(".navbar-toggle").on("click",function(){var t=e.$widget.find(".navbar-collapse"),n="none"===t.css("display");t.css("display",n?"block":"none")})},t.exports=function(e){var t=new r(e);return t.init(),t}}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(t,n){t.exports=e}])});