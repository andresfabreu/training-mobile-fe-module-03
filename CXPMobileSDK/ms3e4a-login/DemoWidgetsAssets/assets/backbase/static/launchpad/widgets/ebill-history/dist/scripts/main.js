!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base"),require("core"),require("ui"),require("module-ebilling")):"function"==typeof define&&define.amd?define(["base","core","ui","module-ebilling"],t):"object"==typeof exports?exports["widget-ebill-history"]=t(require("base"),require("core"),require("ui"),require("module-ebilling")):e["widget-ebill-history"]=t(e.base,e.core,e.ui,e["module-ebilling"])}(this,function(e,t,i,n){return function(e){function t(n){if(i[n])return i[n].exports;var l=i[n]={exports:{},id:n,loaded:!1};return e[n].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){var n;(function(e){n=function(require,e,t){"use strict";t.name="widget-ebill-history";var n=i(1),l=i(2),o=i(3),r=i(4),s=[l.name,o.name,r.name],c=function(e,t,i){t.setConfig({debitOrdersSrc:e.getPreference("debitOrdersSrc"),mandatesSrc:e.getPreference("mandatesSrc"),baseUrl:i.getWidgetBaseUrl(e),locale:e.getPreference("locale"),templates:{"e-bill-list-details":"/templates/details.ng.html"}})};c.$inject=["lpWidget","lpEbilling","lpCoreUtils"],t.exports=n.createModule(t.name,s).controller(i(5)).run(c)}.call(t,i,t,e),!(void 0!==n&&(e.exports=n))}).call(t,i(6)(e))},function(t,i,n){t.exports=e},function(e,i,n){e.exports=t},function(e,t,n){e.exports=i},function(e,t,i){e.exports=n},function(e,t,i){var n;n=function(require,e,t){"use strict";e.MainCtrl=function(e,t){var i=this,n=e.getConfig();i.isTouch=t.isTouch,i.baseUrl=n.baseUrl,i.getTemplate=function(t){return e.getTemplate(t)}},e.MainCtrl.$inject=["lpEbilling","lpEbillingUtils"],e.DetailsCtrl=function(){var e=this;e.init=function(t){e.processing=!0,t.mandate.$get().then(function(t){e.mandate=t},function(t){e.response="Unable to fetch e-bill."})["finally"](function(){e.processing=!1})}},e.BillsListCtrl=function(e,t,i,n,l,o,r,s){var c=this,u={f:0,l:2,sort:"-modifiedDate"};c.hasMore=!1;var a=function(e){"number"==typeof e&&(c.hasMore=e>=u.l)};n.subscribe("lp.widget.e-bill-inbox:sync",function(e){c.fetch()},!0),c.init=function(){c.fetch()},c.loadMore=function(){u.f=c.bills.length,t.getHistory(u).then(function(e){a(e.length),e.length>0&&(c.bills=c.bills.concat(e),c.groups=i.groupBy(c.bills,"modifiedDate","","",!0))})},c.fetch=function(){c.loading=!0,c.bills=[];var e=t.getHistory(u);s.all([e]).then(function(e){var t=e[0];a(t.length),t.length?(c.bills=c.bills.concat(t),c.groups=i.groupBy(c.bills,"modifiedDate","","",!0)):c.response="No results"},function(e){c.response="Unable to fetch data"})["finally"](function(){c.loading=!1})}},e.BillsListCtrl.$inject=["lpEbilling","lpEbillingDebitOrdersModel","lpEbillingUtils","lpEbillingBus","$scope","$filter","$timeout","$q"]}.call(t,i,t,e),!(void 0!==n&&(e.exports=n))},function(e,t,i){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}])});