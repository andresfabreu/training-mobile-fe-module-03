!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base"),require("ui"),require("core"),require("module-accounts"),require("module-transactions-2"),require("module-contacts"),require("module-freshness")):"function"==typeof define&&define.amd?define(["base","ui","core","module-accounts","module-transactions-2","module-contacts","module-freshness"],t):"object"==typeof exports?exports["widget-transactions-overview"]=t(require("base"),require("ui"),require("core"),require("module-accounts"),require("module-transactions-2"),require("module-contacts"),require("module-freshness")):e["widget-transactions-overview"]=t(e.base,e.ui,e.core,e["module-accounts"],e["module-transactions-2"],e["module-contacts"],e["module-freshness"])}(this,function(e,t,n,o,a,s,r){return function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var o;(function(e){o=function(require,e,t){"use strict";function o(e,t,n,o){t.setConfig({endpoint:e.getPreference("categoryDataSrc")}),n.setConfig({accountsEndpoint:e.getPreference("accountsDataSrc")}),o.setConfig({transactionsEndpoint:e.getPreference("transactionsDataSrc"),transactionDetailsEndpoint:e.getPreference("transactionDetailsDataSrc"),pageSize:parseInt(e.getPreference("transactionsPageSize"),10)||void 0})}t.name="widgets-transactions-overview";var a=n(1),s=n(2),r=n(3),c=n(4),i=n(5),l=n(6),u=n(7),p=[r.name,s.name,c.name,i.name,l.name,u.name];o.$inject=["lpWidget","lpTransactionsCategory","lpAccounts","lpTransactions"],t.exports=a.createModule(t.name,p).controller(n(8)).run(o)}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))}).call(t,n(9)(e))},function(t,n,o){t.exports=e},function(e,n,o){e.exports=t},function(e,t,o){e.exports=n},function(e,t,n){e.exports=o},function(e,t,n){e.exports=a},function(e,t,n){e.exports=s},function(e,t,n){e.exports=r},function(e,t,n){var o;o=function(require,e){"use strict";e.MainCtrl=function(e,t,n,o,a,s,r,c,i,l,u,p,f){var d=function(){setTimeout(function(){e.$apply()})},m=function(t){r.forEach(e.lpAccounts.accounts,function(n){t.accountId!==n.id||t.originType||(n.allAccounts=t.allAccounts,e.lpAccounts.selected=n)}),d()},h=function(){e.lpTransactionsCategory.getAll(),e.lpContacts.loadContacts()},g=function(){e.lpAccounts=l,e.lpTransactionsCategory=c.api(),e.lpTransactions=i.api(),e.lpContacts=new p({contacts:r.resolvePortalPlaceholders(o.getPreference("contactsDataSrc")),lazyload:!0}),e.showCharts=r.parseBoolean(o.getPreference("showCharts")),e.showAccountSelect=r.parseBoolean(o.getPreference("showAccountSelect")),e.accountsTopBalance=o.getPreference("preferredBalanceView")||"current",e.showDatesAllTransactions=r.parseBoolean(o.getPreference("showDatesAllTransactions"))||!1,e.showCategories=!1,e.hideDetailsPreference=r.parseBoolean(o.getPreference("hideTransactionDetails"))||!1,e.offsetTopCorrection=0,e.accountSelectSize="large",e.tabs={list:!0,chart:!1,combined:!1},a.subscribe("lpAccounts.loaded",function(t){t&&(e.lpAccounts.accounts=t,a.subscribe("launchpad-retail.accountSelected",function(e){m(e)}),a.subscribe("launchpad-retail.transactions.applyFilter",function(t){e.searchTerm=t.contactName,e.lpTransactions.setFilters(t.filters),e.lpTransactions.loadTransactions(l.selected)}),a.subscribe("launchpad-retail.transactions.newTransferSubmitted",function(){n(function(){e.lpTransactions.clearTransactionsList(),e.lpTransactions.loadMoreTransactions()},3e3)}),a.subscribe("launchpad-retail.donutCategoryChartSelection",function(t){e.lpTransactions.setFilters({category:t.categoryId}),e.lpTransactions.loadTransactions(l.selected)}))}),h(),a.subscribe("launchpad-retail.offsetTopCorrection",function(t){e.offsetTopCorrection=t.offsetTopCorrection}),f.read().success(function(t){e.showCategories=r.parseBoolean(t.pfmEnabled)})};e.selectTab=function(t){e.$broadcast("tabSelected",t)},e.transferMoney=function(){a.publish("launchpad-retail.requestMoneyTransfer")},e.onPerformSearch=function(t){e.lpTransactions.setFilters(t),e.lpTransactions.loadTransactions(l.selected)},e.onClearSearch=function(){e.lpTransactions.clearFilters(),e.lpTransactions.loadTransactions(l.selected)},e.onUpdateSearch=function(){e.lpTransactions.updateFilters(),e.lpTransactions.loadTransactions(l.selected)},e.onChangeSort=function(t){e.lpTransactions.sort=t.sort,e.lpTransactions.transactions&&e.lpTransactions.transactions.length&&e.lpTransactions.loadTransactions(l.selected)},u.enable(t).rule({"max-width":200,then:function(){e.categorySmallLayout=!1,e.categoryLayout="tile",e.responsiveClass="lp-tile-size",d()}}).rule({"min-width":201,"max-width":375,then:function(){e.accountSelectSize="small",e.categorySmallLayout=!0,e.categoryLayout="small",e.responsiveClass="lp-small-size",d()}}).rule({"min-width":376,"max-width":600,then:function(){e.accountSelectSize="large",e.categorySmallLayout=!1,e.categoryLayout="small",e.responsiveClass="lp-medium-size",d()}}).rule({"min-width":601,then:function(){e.categorySmallLayout=!1,e.categoryLayout="large",e.responsiveClass="lp-large-size",d()}}),g(),a.subscribe("lpDataFreshnessRefresh",function(e){l.load(!0).then(function(){a.publish("lpDataFreshnessChanged",e)}),h()})},e.MainCtrl.$inject=["$scope","$element","$timeout","lpWidget","lpCoreBus","i18nUtils","lpCoreUtils","lpTransactionsCategory","lpTransactions","lpAccounts","lpUIResponsive","ContactsModel","PreferenceService"]}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e,t,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}])});