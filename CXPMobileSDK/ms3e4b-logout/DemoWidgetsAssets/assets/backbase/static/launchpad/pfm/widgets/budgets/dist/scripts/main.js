!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("base"),require("core"),require("ui"),require("jquery")):"function"==typeof define&&define.amd?define(["base","core","ui","jquery"],e):"object"==typeof exports?exports["widget-budgets"]=e(require("base"),require("core"),require("ui"),require("jquery")):t["widget-budgets"]=e(t.base,t.core,t.ui,t.jquery)}(this,function(t,e,n,i){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i;(function(t){i=function(require,t,e){"use strict";e.name="widgets-budgets";var i=n(1),o=n(2),r=n(3),s=n(8),c=[o.name,r.name,s.name];e.exports=i.createModule(e.name,c).factory(n(4)).service(n(5)).controller(n(6)).directive(n(7))}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}).call(e,n(9)(t))},function(e,n,i){e.exports=t},function(t,n,i){t.exports=e},function(t,e,i){t.exports=n},function(t,e,n){var i;i=function(require,t,e){"use strict";var i=n(1).ng,o=window.jQuery;t.SharedData=function(){return{accountIds:[],categories:[],selectedAccountId:null,budgetEditMode:!1}},t.BudgetsManager=function(t,e,n,r,s,c,u,a){var d,l,g=new e({id:"new",categoryIds:[],accountIds:[]}),h=function(){return d},f=function(){return l},p=function(e){return new t({accountIds:e}).get().$promise},m=function(t){var e=n.accountIds[t.accountIds[0]];return void 0!==e?n.accountIds[t.accountIds[0]].currency:null},v=function(t){if("new"===t.id)return"small";var e=i.copy(l),n=e.sort(function(t,e){return e.amount>t.amount?1:-1}),o=n.length-1,r=Math.ceil(.33*o),s=Math.ceil(.5*(o-r)),c=n.map(function(t){return t.id});c.splice(c.indexOf("new"),1);var u=c.indexOf(t.id);return r>u?"large":s+r>u?"medium":"small"},y=function(t){var n=[];return u.forEach(t,function(t,i){var o=new e(t);o.currency=m(o),o.size=v(o),n.push(o)}),n},b=function(t,e,n){return t.splice(n,0,t.splice(e,1)[0])},$=function(t){var e=s.getPreference("budgetOrder").split(",");return u.forEach(e,function(e,n){var i=t.map(function(t){return t.id}).indexOf(e);b(t,i,n)}),t},w=function(t){d=!0,p(t).then(function(t){l=t,l.push(g),l=y(t),l=$(l),d=!1})},I=function(){u.forEach(l,function(t,e){t.size=v(t)})},x=function(i){var s=new e(i);(new t).create(s,function(t){s.id=t.id,s.newItem=!0,s.currency=m(s),s.spent=0,(null===n.selectedAccountId||-1!==s.accountIds.indexOf(n.selectedAccountId))&&(l.push(s),I(),o(".gridly").gridly("layout"))},function(t){r.push("danger","budgetCreationFailed")})},B=function(e){return(new t).update(e,function(t){I(),a.publish("launchpad-retail.budgets.reloadBudgets")},function(t){r.push("danger","budgetUpdateFailed")})},C=function(e){e.processing=!0,(new t).remove({budgetId:e.id},function(t){e.processing=!1;var n=l.map(function(t){return t.id}),i=n.indexOf(e.id);i>-1&&l.splice(i,1),I(),a.publish("launchpad-retail.budgets.reloadBudgets")},function(t){e.processing=!1,r.push("danger","budgetRemoveFailed")})};return{loading:h,budgets:f,budgetTemplate:g,loadAll:w,createBudget:x,updateBudget:B,removeBudget:C,resolveCurrency:m,size:v}},t.BudgetsManager.$inject=["BudgetsResource","Budget","SharedData","AlertsManager","lpWidget","$timeout","lpCoreUtils","lpCoreBus"],t.Budget=function(t,e){function n(t){var e=this instanceof n?this:new n(t);return e.id=t.id,e.partyId=t.partyId,e.name=t.name,e.spent=t.spent,e.amount=t.amount,e.accountIds=t.accountIds,e.categoryIds=t.categoryIds,e.currency=t.currency,e.image=t.image,e.dateFrom=new Date(t.dateFrom).getTime(),e.dateTo=new Date(t.dateTo).getTime(),e}return n.prototype.exceeds=function(){return null!==this.spent&&void 0!==this.spent?this.spent>this.amount:!1},n.prototype.spentPercentage=function(){var t=0;return null!==this.spent&&void 0!==this.spent&&(t=Math.floor(100*this.spent/this.amount),t>100)?100:t},n},t.Budget.$inject=["BudgetsResource","SharedData"],t.BudgetsResource=function(t,e,n){return function(i){var o=n.resolvePortalPlaceholders(e.getPreference("budgetsDataSrc"));return t(o,null,{get:{method:"GET",headers:i,isArray:!0},create:{method:"POST"},update:{method:"PUT",params:{budgetId:"@id"}},remove:{method:"DELETE",params:{budgetId:"@budgetId"}}})}},t.BudgetsResource.$inject=["$resource","lpWidget","lpCoreUtils"],t.CategoriesResource=function(t,e,n){return function(i){var o=n.resolvePortalPlaceholders(e.getPreference("categoriesDataSrc"));return t(o,null,{get:{method:"GET",headers:i,isArray:!0}})}},t.CategoriesResource.$inject=["$resource","lpWidget","lpCoreUtils"],t.AccountsResource=function(t,e,n){var i=n.resolvePortalPlaceholders(e.getPreference("accountsDataSrc"));return t(i,null,{get:{method:"GET",isArray:!0}})},t.AccountsResource.$inject=["$resource","lpWidget","lpCoreUtils"],t.TransactionsResource=function(t,e,n,i){var o=i.resolvePortalPlaceholders(n.getPreference("transactionsDataSrc"));return{get:function(n){var i=e.defer();return t.get(o,{params:n}).success(function(t,e,n,o){i.resolve("null"===t?[]:t)}).error(function(t,e,n,i){return[]}),i.promise}}},t.TransactionsResource.$inject=["$http","$q","lpWidget","lpCoreUtils"]}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i;i=function(require,t,e){"use strict";var n=window.jQuery;t.AlertsManager=function(t,e,n){var i=3e3,o=[];this.list=function(){return o},this.push=function(e,n,r){var s=this;s.close(),o.push({type:e||"danger",msg:n}),r!==!1&&t(function(){s.close()},i)},this.close=function(){o=[]}},t.AlertsManager.$inject=["$timeout","$resource","lpWidget"],t.Gridly=function(t,e,i){var o=function(t){},r=function(t){var n=[];return i.forEach(t,function(t,e){n.push(t.id)}),e.setPreference("budgetOrder",n.toString()),e.model.save(),n},s=function(t){r(t)},c=function(){t(function(){n(".gridly").gridly("layout"),c()},300)};this.init=function(){n(".gridly").gridly({base:140,gutter:20,responsive:!0,callbacks:{reordering:o,reordered:s},draggable:{zIndex:800,selector:".closed"}}),c()}},t.Gridly.$inject=["$timeout","lpWidget","lpCoreUtils"]}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i;i=function(require,t,e){"use strict";var i=window.jQuery,o=n(1).ng;t.BudgetsController=function(t,e,n,o,r,s,c,u,a,d,l,g,h){t.shared=r,t.partialsDir=g.getWidgetBaseUrl(e)+"/partials",t.alerts=l,t.budgetsManager=o,c.get(function(e){var n={};g.forEach(e,function(t,e){n[t.id]=t}),t.load(),r.accountIds=n},function(t){l.push("danger","noBankAccounts")}),t.load=function(t){o.loadAll(t)},t.toggleEditMode=function(){this.shared.budgetEditMode=!this.shared.budgetEditMode,h.publish("launchpad-retail.budgets.closeBudgetEditing")},this.loadCategories=function(){new u({accountIds:[r.selectedAccountId]}).get(function(t){r.categories=t},function(t){l.push("danger","noCategories"),r.categories=[]})},h.subscribe("launchpad-retail.accountSelected",function(e){t.shared.selectedAccountId=e.accountId,t.budgetsManager.budgetTemplate.accountIds=e.accountId,t.load(e.accountId)}),this.loadCategories(),d.init();var f=i(".lp-springboard-container").width();null!==f&&(i(".gridly").width(f),i(".gridly").resize())},t.BudgetsController.$inject=["$scope","lpWidget","i18nUtils","BudgetsManager","SharedData","Budget","AccountsResource","CategoriesResource","$timeout","Gridly","AlertsManager","lpCoreUtils","lpCoreBus"],t.BudgetEditController=function(t,e,n,r,s,c){t.budgetImages=["shopping","food","coffee","house","car","drinks","phone","bag","trip"],t.init=function(){t.goToWizardStep(1),t.form=o.copy(t.budget),t.categories=o.copy(s.categories),t.error=!1,null!==s.selectedAccountId&&(t.form.accountIds=[s.selectedAccountId])},t.next=function(n){1===t.getActiveWizardStep()?0===t.form.categoryIds.length?t.error=!0:(t.error=!1,t.wizardNextStep(),e(function(){i("#amount").focus()},0)):2===t.getActiveWizardStep()?void 0===t.form.amount||null===t.form.amount||0===t.form.amount?t.error=!0:(t.error=!1,t.wizardNextStep(),e(function(){i("#name").focus()},0)):3===t.getActiveWizardStep()&&(void 0===t.form.name||null===t.form.name||""===t.form.name?t.error=!0:(t.error=!1,t.save(n)))},t.back=function(e){t.error=null,1===t.getActiveWizardStep()&&t.close(e),t.wizardPreviousStep()},t.save=function(e){if("new"===t.mode){if(null===s.selectedAccountId){var i=[];for(var c in s.accountIds)i.push(c);t.form.accountIds=i}else t.form.accountIds=[s.selectedAccountId];r.createBudget(t.form)}else t.budget.processing=!0,n.all(r.updateBudget(t.form)).then(function(){t.budget.processing=!1,o.copy(t.form,t.budget)});t.close(e)},t.selectCategory=function(e){e.selected=!e.selected,e.selected?(0===t.form.categoryIds.length&&(t.form.name=e.name),t.form.categoryIds.push(e.id)):t.form.categoryIds.splice(c.indexOf(t.form.categoryIds,e.id),1)},t.isCategorySelected=function(e){return void 0===e.selected&&(e.selected=c.indexOf(t.form.categoryIds,e.id)>-1),e.selected},t.chooseImage=function(e){t.form.image=e},e(function(){t.init()},0)},t.BudgetEditController.$inject=["$scope","$timeout","$q","BudgetsManager","SharedData","lpCoreUtils"]}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i;i=function(require,t,e){"use strict";var n=window.jQuery;t.budget=function(t,e,i,o,r,s,c,u){return{restrict:"E",replace:!0,scope:{budget:"="},templateUrl:c.getWidgetBaseUrl(s)+"/partials/budget.html",controller:function(e,n,u){e.shared=i,e.partialsDir=c.getWidgetBaseUrl(s)+"/partials",e.error=!1,this.loadTransactions=function(){e.transactions=[],e.budget.processing=!0;var t={accountIds:e.budget.accountIds.toString(),categoryIds:e.budget.categoryIds.toString()};e.budget.dateFrom&&(t.df=e.budget.dateFrom),e.budget.dateTo&&(t.dt=e.budget.dateFrom),o.get(t).then(function(t){c.forEach(t,function(t,n){var o=c.result(c.find(i.categories,function(e){return e.id===t.categoryId}),"color");e.transactions.push({color:o,categoryId:t.categoryId,title:t.transactionType,amount:t.transactionAmount,currency:t.transactionCurrency})}),e.budget.processing=!1},function(t){r.push("danger","budgetGetTransactionsFailed"),e.budget.processing=!1})},e.remove=function(n){n.preventDefault(),n.stopPropagation(),t.removeBudget(e.budget)},e.size=function(){return t.size(e.budget)}},link:function(t,o,r,s){t.mode="new"===t.budget.id?"new":"view",t.currentMode=t.mode,n(document).on("click touchend",".gridly .brick#"+t.budget.id+".closed",function(e){t.$apply(function(){t.openBudget()})});var c=function(e){var n,i;e.hasClass("small")&&(n=140,i=140),e.hasClass("medium")&&(n=300,i=140),(e.hasClass("large")||e.hasClass("edit")||"inspect"===t.currentMode)&&(n=300,i=300),e.data("width",n),e.data("height",i),u.publish("launchpad-retail.budgets.reloadBudgets")},a=function(){o.addClass("edit"),c(o),e(function(){t.currentMode="edit"},300)};t.openBudget=function(){"view"===t.currentMode&&i.budgetEditMode||"new"===t.currentMode?(u.publish("launchpad-retail.budgets.closeBudgetEditing"),a()):i.budgetEditMode||"view"!==t.currentMode||(s.loadTransactions(),u.publish("launchpad-retail.budgets.closeBudgetEditing"),o.addClass("edit"),t.currentMode="inspect",c(o))},t.close=function(e){void 0!==e&&(e.preventDefault(),e.stopPropagation());var i=n(".gridly .brick#"+t.budget.id+".edit");null!==i&&(t.currentMode=t.mode,i.removeClass("edit"),c(i))},u.subscribe("launchpad-retail.budgets.closeBudgetEditing",function(){t.close()})}}},t.budget.$inject=["BudgetsManager","$timeout","SharedData","TransactionsResource","AlertsManager","widget","lpCoreUtils","lpCoreBus"],t.reloadBudgets=function(t){return function(e,n,i){e.$last&&t.publish("launchpad-retail.budgets.reloadBudgets")}},t.reloadBudgets.$inject=["lpCoreBus"],t.amountPicker=function(t,e,i){return{restrict:"E",scope:{model:"=value"},templateUrl:i.getWidgetBaseUrl(e)+"/partials/amount-picker.html",link:function(e,i,o){var r;n(document).on("touchstart","#increase-control",function(t){e.increase()}),n(document).on("touchend touchcancel","#increase-control",function(t){e.cancel()}),n(document).on("touchstart","#decrease-control",function(t){e.decrease()}),n(document).on("touchend touchcancel","#decrease-control",function(t){e.cancel()}),e.increase=function(){void 0===e.model&&(e.model=0),r=t(function(){e.model=e.model+1},50)},e.decrease=function(){r=t(function(){e.model=e.model-1},50)},e.cancel=function(){t.cancel(r)}}}},t.amountPicker.$inject=["$interval","widget","lpCoreUtils"],t.gridClick=function(){return{restrict:"A",require:"^budget",scope:{gridClick:"&"},link:function(t,e,n,i){e.on("click touchend",function(e){t.$apply(function(){t.gridClick({event:e})})})}}}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i;(function(t){i=function(require,t,e){"use strict";e.name="component.widget-budgets-gridly";var i=n(1),o=[];n(10),e.exports=i.createModule(e.name,o)}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}).call(e,n(9)(t))},function(t,e,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){(function(){"use strict";var t,e,i,o=function(t,e){return function(){return t.apply(e,arguments)}},r=[].slice;t=n(11),e=function(){function e(t,e,n){this.touchend=o(this.touchend,this),this.click=o(this.click,this),this.moved=o(this.moved,this),this.ended=o(this.ended,this),this.began=o(this.began,this),this.coordinate=o(this.coordinate,this),this.off=o(this.off,this),this.on=o(this.on,this),this.toggle=o(this.toggle,this),this.bind=o(this.bind,this),this.$container=t,this.selector=e,this.callbacks=n,this.toggle()}return e.prototype.bind=function(e){return null==e&&(e="on"),t(document)[e]("mousemove touchmove",this.moved),t(document)[e]("mouseup touchcancel",this.ended)},e.prototype.toggle=function(t){return null==t&&(t="on"),this.$container[t]("mousedown touchstart",this.selector,this.began),this.$container[t]("touchend",this.selector,this.touchend),this.$container[t]("click",this.selector,this.click)},e.prototype.on=function(){return this.toggle("on")},e.prototype.off=function(){return this.toggle("off")},e.prototype.coordinate=function(t){switch(t.type){case"touchstart":case"touchmove":case"touchend":case"touchcancel":return t.originalEvent.touches[0];default:return t}},e.prototype.began=function(e){var n;if(!this.$target)return e.preventDefault(),e.stopPropagation(),this.bind("on"),this.$target=t(e.target).closest(this.$container.find(this.selector)),this.$target.addClass("dragging"),this.origin={x:this.coordinate(e).pageX-this.$target.position().left,y:this.coordinate(e).pageY-this.$target.position().top},null!=(n=this.callbacks)&&"function"==typeof n.began?n.began(e):void 0},e.prototype.ended=function(t){var e;if(null!=this.$target)return"touchend"!==t.type&&(t.preventDefault(),t.stopPropagation()),this.bind("off"),this.$target.removeClass("dragging"),delete this.$target,delete this.origin,null!=(e=this.callbacks)&&"function"==typeof e.ended?e.ended(t):void 0},e.prototype.moved=function(t){var e;if(null!=this.$target)return t.preventDefault(),t.stopPropagation(),this.$target.css({left:this.coordinate(t).pageX-this.origin.x,top:this.coordinate(t).pageY-this.origin.y}),this.dragged=this.$target,null!=(e=this.callbacks)&&"function"==typeof e.moved?e.moved(t):void 0},e.prototype.click=function(t){return this.dragged?(t.preventDefault(),t.stopPropagation(),delete this.dragged):void 0},e.prototype.touchend=function(t){return this.ended(t),this.click(t)},e}(),i=function(n){function i(e,r){return null==r&&(r={}),this.optimize=o(this.optimize,this),this.layout=o(this.layout,this),this.structure=o(this.structure,this),this.position=o(this.position,this),this.size=o(this.size,this),this.draggingMoved=o(this.draggingMoved,this),this.draggingEnded=o(this.draggingEnded,this),this.draggingBegan=o(this.draggingBegan,this),this.$sorted=o(this.$sorted,this),this.draggable=o(this.draggable,this),this.compare=o(this.compare,this),this.$=o(this.$,this),this.reordinalize=o(this.reordinalize,this),this.ordinalize=o(this.ordinalize,this),this.$el=e,this.settings=t.extend({},i.settings,r),this.config={},1!=this.settings.responsive&&void 0!=this.settings.columns&&t.isNumeric(this.settings.columns)?this.config.columns=this.settings.columns:(this.config.columns=Math.floor(e.width()/(this.settings.gutter+this.settings.base)),this.config.columns=this.config.columns<2?2:this.config.columns,t(n).resize(function(){var t=e.data("_gridly");t&&(t.config.columns=Math.floor(e.width()/(t.settings.gutter+t.settings.base)),t.config.columns=t.config.columns<2?2:t.config.columns,setTimeout(t.layout,0))})),this.ordinalize(this.$("> *")),this.settings.draggable!==!1&&this.draggable(),this}return i.settings={base:60,gutter:20,columns:12,draggable:{zIndex:800,selector:"> *"},responsive:!1},i.gridly=function(t,e){var n;return null==e&&(e={}),n=t.data("_gridly"),n||(n=new i(t,e),t.data("_gridly",n)),n},i.prototype.ordinalize=function(e){var n,i,o,r,s;for(s=[],i=o=0,r=e.length;r>=0?r>=o:o>=r;i=r>=0?++o:--o)n=t(e[i]),s.push(n.data("position",i));return s},i.prototype.reordinalize=function(t,e){return t.data("position",e)},i.prototype.$=function(t){return this.$el.find(t)},i.prototype.compare=function(t,e){return t.y>e.y+e.h?1:e.y>t.y+t.h?-1:t.x+t.w/2>e.x+e.w/2?1:e.x+e.w/2>t.x+t.w/2?-1:0},i.prototype.draggable=function(t){return null==this._draggable&&(this._draggable=new e(this.$el,this.settings.draggable.selector,{began:this.draggingBegan,ended:this.draggingEnded,moved:this.draggingMoved})),null!=t?this._draggable[t]():void 0},i.prototype.$sorted=function(e){return(e||this.$("> *")).sort(function(e,n){var i,o,r,s,c,u;return i=t(e),o=t(n),r=i.data("position"),c=o.data("position"),s=parseInt(r),u=parseInt(c),null!=r&&null==c?-1:null!=c&&null==r?1:!r&&!c&&i.index()<o.index()?-1:!c&&!r&&o.index()<i.index()?1:u>s?-1:s>u?1:0})},i.prototype.draggingBegan=function(t){var e,n,i;return e=this.$sorted(),this.ordinalize(e),setTimeout(this.layout,0),null!=(n=this.settings)&&null!=(i=n.callbacks)&&"function"==typeof i.reordering?i.reordering(e):void 0},i.prototype.draggingEnded=function(t){var e,n,i;return e=this.$sorted(),this.ordinalize(e),setTimeout(this.layout,0),null!=(n=this.settings)&&null!=(i=n.callbacks)&&"function"==typeof i.reordered?i.reordered(e):void 0},i.prototype.draggingMoved=function(e){var n,i,o,r,s,c,u,a,d,l,g,h,f;for(n=t(e.target).closest(this.$(this.settings.draggable.selector)),i=this.$sorted(this.$(this.settings.draggable.selector)),u=this.structure(i).positions,c=s=n.data("position"),g=u.filter(function(t){return t.$element.is(n)}),a=0,l=g.length;l>a;a++)o=g[a],o.x=n.position().left,o.y=n.position().top,o.w=n.data("width")||n.width(),o.h=n.data("height")||n.height();for(u.sort(this.compare),i=u.map(function(t){return t.$element}),i=((null!=(h=this.settings.callbacks)?h.optimize:void 0)||this.optimize)(i),r=d=0,f=i.length;f>=0?f>d:d>f;r=f>=0?++d:--d)this.reordinalize(t(i[r]),r);return this.layout()},i.prototype.size=function(t){return((t.data("width")||t.width())+this.settings.gutter)/(this.settings.base+this.settings.gutter)},i.prototype.position=function(t,e){var n,i,o,r,s,c,u,a,d;for(s=this.size(t),i=1/0,n=0,o=c=0,a=e.length-s;a>=0?a>c:c>a;o=a>=0?++c:--c)r=Math.max.apply(Math,e.slice(o,o+s)),i>r&&(i=r,n=o);for(o=u=n,d=n+s;d>=n?d>u:u>d;o=d>=n?++u:--u)e[o]=i+(t.data("height")||t.height())+this.settings.gutter;return{x:n*(this.settings.base+this.settings.gutter),y:i}},i.prototype.structure=function(e){var n,i,o,r,s,c,u,a;for(null==e&&(e=this.$sorted()),c=[],i=function(){var t,e,n;for(n=[],o=t=0,e=this.config.columns;e>=0?e>=t:t>=e;o=e>=0?++t:--t)n.push(0);return n}.call(this),r=u=0,a=e.length;a>=0?a>u:u>a;r=a>=0?++u:--u)n=t(e[r]),s=this.position(n,i),c.push({x:s.x,y:s.y,w:n.data("width")||n.width(),h:n.data("height")||n.height(),$element:n});return{height:Math.max.apply(Math,i),positions:c}},i.prototype.layout=function(){var e,n,i,o,r,s,c,u;for(n=((null!=(c=this.settings.callbacks)?c.optimize:void 0)||this.optimize)(this.$sorted()),r=this.structure(n),i=s=0,u=n.length;u>=0?u>s:s>u;i=u>=0?++s:--s)e=t(n[i]),o=r.positions[i],e.is(".dragging")||e.css({position:"absolute",left:o.x,top:o.y});return this.$el.css({height:r.height})},i.prototype.optimize=function(e){var n,i,o,r,s;for(o=[],n=0;e.length>0;){for(n===this.config.columns&&(n=0),i=0,i=r=0,s=e.length;(s>=0?s>r:r>s)&&!(n+this.size(t(e[i]))<=this.config.columns);i=s>=0?++r:--r);i===e.length&&(i=0,n=0),n+=this.size(t(e[i])),o.push(e.splice(i,1)[0])}return o},i}(window),t.fn.extend({gridly:function(){var e,n;return e=arguments[0],n=2<=arguments.length?r.call(arguments,1):[],null==e&&(e={}),this.each(function(){var o,r,s;return o=t(this),s=t.extend({},t.fn.gridly.defaults,"object"==typeof e&&e),r="string"==typeof e?e:e.action,null==r&&(r="layout"),i.gridly(o,s)[r](n)})}})}).call(this)},function(t,e,n){t.exports=i}])});