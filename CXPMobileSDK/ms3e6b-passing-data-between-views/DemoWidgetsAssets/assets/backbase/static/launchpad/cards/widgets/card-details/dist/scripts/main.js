!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o(require("base"),require("ui"),require("core"),require("module-accounts")):"function"==typeof define&&define.amd?define(["base","ui","core","module-accounts"],o):"object"==typeof exports?exports["widget-card-details"]=o(require("base"),require("ui"),require("core"),require("module-accounts")):e["widget-card-details"]=o(e.base,e.ui,e.core,e["module-accounts"])}(this,function(e,o,r,n){return function(e){function o(n){if(r[n])return r[n].exports;var l=r[n]={exports:{},id:n,loaded:!1};return e[n].call(l.exports,l,l.exports,o),l.loaded=!0,l.exports}var r={};return o.m=e,o.c=r,o.p="",o(0)}([function(e,o,r){var n;(function(e){n=function(require,e,o){"use strict";function n(){}o.name="widget-card-details";var l=r(1),c=r(2),t=r(3),i=r(4),a=[t.name,c.name,i.name];o.exports=l.createModule(o.name,a).controller(r(5)).directive(r(6)).filter(r(7)).run(n)}.call(o,r,o,e),!(void 0!==n&&(e.exports=n))}).call(o,r(8)(e))},function(o,r,n){o.exports=e},function(e,r,n){e.exports=o},function(e,o,n){e.exports=r},function(e,o,r){e.exports=n},function(e,o,r){var n;n=function(require,e,o){"use strict";e.cardDetailsController=function(e,o,r,n,l){var c=l,t=function(o){var r=e.cardsModel.loadCardDetails(o);r.then(function(o){e.control.nickname.value=o.alias,e.iconPicker.selectedColor=o.iconColor})},i=function(){e.cardsModel=n.getInstance({cardsEndpoint:r.getPreference("cardDataSrc")}),e.control={nickname:{value:"",errors:[],loading:!1,validate:function(e){return e.length<3?"invalid_nickname":!0}}},e.iconPicker={label:"Icon Color",iconClass:"lp-icon-credit-card",selectedColor:""},e.errorMessages={invalid_nickname:"Please fill in your card's Nickname."},c.subscribe("launchpad-retail.cardSelected",function(e){var o=e.account;o&&o.id&&t(o.id)})};e.save=function(o,r){e.cardsModel.selected.id&&(e.cardsModel.selected[o]=r,e.cardsModel.selected.$update({id:e.cardsModel.selected.id}))},i()},e.cardDetailsController.$inject=["$scope","i18nUtils","lpWidget","CardsModel","lpCoreBus"]}.call(o,r,o,e),!(void 0!==n&&(e.exports=n))},function(e,o,r){var n;n=function(require,e,o){"use strict";var r=function(e,o,r){for(var n="undefined"!=typeof r?[r]:document.styleSheets,l=0,c=n.length;c>l;l++){var t=n[l];if(t.cssRules)for(var i=0,a=t.cssRules.length;a>i;i++){var s=t.cssRules[i];if(s.selectorText&&-1!==s.selectorText.split(",").indexOf(o))return s.style[e]}}return null},n=function(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},l=function(e){var o=r("color",".card-icon-color-"+e.toLowerCase());return o?n(o):(console&&console.warn&&console.warn("Style .card-icon-color-"+e.toLowerCase()+" not found"),e)};e.lpIconColorPicker=function(e){function o(){return["<div>",'<div class="col-sm-3">','<label class="control-label">',"{{label}}","</label>","</div>",'<div class="col-sm-9">','<ul class="color-picker" role="radiogroup" aria-label="Color picker">','<li ng-repeat="color in selectableColors" tabindex="0" class="icon-colored cursor-pointer" title="{{color.name}}" ng-click="selectColor(color)" role="radio" aria-label="{{color.name}}" aria-selected="{{(model == color.hex) ? true : false}}">','<div class="lp-icon {{icon}}" ng-style="color.styles"></div>',"</li>","</ul>","</div>","</div>"].join("")}return{restrict:"A",replace:!0,require:"ngModel",scope:{label:"=label",icon:"=iconClass",model:"=ngModel",onChangeFn:"&onChangeFn"},template:o,link:function(e,o,r,n){var c=n,t=function(o,r){var n=function(e){var o,r;o=e.styles.color,r=e.styles.backgroundColor,e.styles.color=r,e.styles.backgroundColor=o};e.selectedColor&&n(e.selectedColor);for(var l=0;l<e.selectableColors.length;l++)if(e.selectableColors[l].hex===o){e.selectedColor=e.selectableColors[l],n(e.selectedColor);break}(r||void 0===r)&&e.onChangeFn.call()},i=function(){for(var o=0;o<e.selectableColors.length;o++)e.selectableColors[o].styles={color:e.selectableColors[o].hex,backgroundColor:"#FFFFFF"}},a=function(){e.selectableColors=[{name:"Licorice",hex:l("Licorice")},{name:"Magnesium",hex:l("Magnesium")},{name:"Tangerine",hex:l("Tangerine")},{name:"Salmon",hex:l("Salmon")},{name:"Maraschino",hex:l("Maraschino")},{name:"Grape",hex:l("Grape")},{name:"Aqua",hex:l("Aqua")}],i(),e.selectedColor=null};e.selectColor=function(o){e.model.iconColor=o.hex,t(o.hex)},c.$formatters.push(function(e){return e.iconColor&&t(e.iconColor,!1),e}),a()}}},e.lpIconColorPicker.$inject=["lpCoreUtils"]}.call(o,r,o,e),!(void 0!==n&&(e.exports=n))},function(e,o,r){var n;n=function(require,e,o){"use strict";e.percentage=function(e){return function(o,r){return e("number")(100*o,r)+"%"}},e.percentage.$inject=["$filter"]}.call(o,r,o,e),!(void 0!==n&&(e.exports=n))},function(e,o,r){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}])});