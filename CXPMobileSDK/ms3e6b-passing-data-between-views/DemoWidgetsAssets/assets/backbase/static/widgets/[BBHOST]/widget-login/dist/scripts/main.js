!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o(require("base"),require("core"),require("ui")):"function"==typeof define&&define.amd?define(["base","core","ui"],o):"object"==typeof exports?exports["widget-login"]=o(require("base"),require("core"),require("ui")):e["widget-login"]=o(e.base,e.core,e.ui)}(this,function(e,o,r){return function(e){function o(t){if(r[t])return r[t].exports;var n=r[t]={exports:{},id:t,loaded:!1};return e[t].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}var r={};return o.m=e,o.c=r,o.p="",o(0)}([function(e,o,r){var t;(function(e){t=function(require,e,o){"use strict";function t(){}o.name="widget-login";var n=r(3),i=r(4),s=r(5),c=[i.name,s.name];o.exports=n.createModule(o.name,c).service(r(2)).controller(r(6)).directive(r(7)).run(t)}.call(o,r,o,e),!(void 0!==t&&(e.exports=t))}).call(o,r(1)(e))},function(e,o){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,o,r){var t;t=function(require,e,o){"use strict";e.LoginService=function(e,o,r,t){var n=this,i={loginUrl:r.root+"/j_spring_security_check",logoutUrl:r.root+"/j_spring_security_logout?portalName="+r.name,successPage:null},s={userId:"launchpad.userId",userData:"launchpad.userData"};this.configure=function(e){t.extend(i,e)},this.doLogin=function(e,o){var r=this.getLoginPromise(e,o).success(function(e){e?n.error="CANNOT_AUTHENTICATE":(n.error=null,n.handleSuccessfulLogin(e))}).error(function(e){n.error=e.errors[0].code});return r},this.getLoginPromise=function(o,n){var s={j_username:o,j_password:n,portal_name:r.name,page_name:r.page.name};return e.post(i.loginUrl,t.buildQueryString(s),{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}})},this.handleSuccessfulLogin=function(e){if(0===o.location.protocol.indexOf("file:")&&(e.successView=null),e.successView)o.location.replace(r.root+e.successView);else{var t;t=0===o.location.protocol.indexOf("file:")?o.location.pathname.split("//")[0]+o.location.search+o.location.hash:o.location.href,o.location.replace(t)}},this.doLogout=function(){o.sessionStorage.clear(),o.location.href=i.logoutUrl},this.getStoredData=function(){return o.sessionStorage.getItem(s.userData)}},e.LoginService.$inject=["$http","$window","lpPortal","lpCoreUtils"]}.call(o,r,o,e),!(void 0!==t&&(e.exports=t))},function(o,r){o.exports=e},function(e,r){e.exports=o},function(e,o){e.exports=r},function(e,o,r){var t;t=function(require,e){"use strict";e.LoginController=function(e,o,r,t,n){var i=t,s=r,c=n.getStoredData();o.loadMessages(i).success(function(o){e.messages=o.messages}),e.user={},s.isNull(c)||s.extend(e.user,{id:c,remember:!0}),e.allowSubmit=function(){return e.user.id},e.doLogin=function(){e.$broadcast("autofill:update"),n.doLogin(e.user.id,e.user.password,e.user.remember).then(function(o){n.error&&(e.error=e.messages[n.error]||n.error)})},i.addEventListener("preferencesSaved",function(){i.refreshHTML()})},e.LoginController.$inject=["$scope","i18nUtils","lpCoreUtils","lpWidget","LoginService"]}.call(o,r,o,e),!(void 0!==t&&(e.exports=t))},function(e,o,r){var t;t=function(require,e,o){"use strict";e.autofill=function(){return{require:"?ngModel",restrict:"A",link:function(e,o,r,t){e.$on("autofill:update",function(){t.$setViewValue(o.val())})}}}}.call(o,r,o,e),!(void 0!==t&&(e.exports=t))}])});